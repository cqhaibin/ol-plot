{"version":3,"file":"ol-plot.esm.js","sources":["../node_modules/observable-emit/src/index.js","../src/Constants.js","../src/Utils/utils.js","../src/Utils/layerUtils.js","../node_modules/autosize/dist/autosize.js","../src/Utils/domUtils.js","../src/Geometry/Text/PlotTextBox.js","../src/Utils/PlotTypes.js","../src/Geometry/point/Point.js","../src/Geometry/point/Pennant.js","../src/Geometry/Polyline/Polyline.js","../src/Geometry/Arc/Arc.js","../src/Geometry/Circle/Circle.js","../src/Geometry/Polyline/Curve.js","../src/Geometry/Polyline/FreeHandLine.js","../src/Geometry/Polygon/RectAngle.js","../src/Geometry/Circle/Ellipse.js","../src/Geometry/Polygon/Lune.js","../src/Geometry/Polygon/Sector.js","../src/Geometry/Polygon/ClosedCurve.js","../src/Geometry/Polygon/Polygon.js","../src/Geometry/Polygon/FreePolygon.js","../src/Geometry/Arrow/AttackArrow.js","../src/Geometry/Arrow/DoubleArrow.js","../src/Geometry/Arrow/StraightArrow.js","../src/Geometry/Arrow/FineArrow.js","../src/Geometry/Arrow/AssaultDirection.js","../src/Geometry/Arrow/TailedAttackArrow.js","../src/Geometry/Arrow/SquadCombat.js","../src/Geometry/Arrow/TailedSquadCombat.js","../src/Geometry/Polygon/GatheringPlace.js","../src/Geometry/Flag/RectFlag.js","../src/Geometry/Flag/TriangleFlag.js","../src/Geometry/Flag/CurveFlag.js","../src/core/PlotDraw.js","../src/core/PlotEdit.js","../src/Utils/factory.js","../src/core/PlotUtils.js","../src/index.js"],"sourcesContent":["const Observable = function () {\n  this.Events = {}\n  this.__cnt = 0\n}\n\nObservable.hasOwnKey = Function.call.bind(Object.hasOwnProperty)\n\nObservable.slice = Function.call.bind(Array.prototype.slice)\n\n/**\n * 事件分发\n * @param eventName\n * @param callback\n * @param context\n * @returns {(*|*)[]}\n */\nObservable.prototype.on = function (eventName, callback, context) {\n  return (this.bindEvent(eventName, callback, 0, context))\n}\n\n/**\n * 取消监听\n * @param event\n * @returns {boolean}\n */\nObservable.prototype.un = function (event) {\n  var eventName = ''\n  var key = ''\n  var r = false\n  var type = typeof event\n  var that = this\n  if (type === 'string') {\n    if (Observable.hasOwnKey(this.Events, event)) {\n      delete this.Events[event]\n      return true\n    }\n    return false\n  } else if (type === 'object') {\n    eventName = event[0]\n    key = event[1]\n    if (Observable.hasOwnKey(this.Events, eventName) && Observable.hasOwnKey(this.Events[eventName], key)) {\n      delete this.Events[eventName][key]\n      return true\n    }\n    return false\n  } else if (type === 'function') {\n    that.eachEvent(that.Events, function (keyA, itemA) {\n      that.eachEvent(itemA, function (keyB, itemB) {\n        if (itemB[0] === event) {\n          delete that.Events[keyA][keyB]\n          r = true\n        }\n      })\n    })\n    return r\n  }\n  return true\n}\n\n/**\n * 事件监听（只触发一次）\n * @param eventName\n * @param callback\n * @param context\n * @returns {(*|*)[]}\n */\nObservable.prototype.once = function (eventName, callback, context) {\n  return (this.bindEvent(eventName, callback, 1, context))\n}\n\n/**\n * 响应事件\n * @param eventName\n * @param args\n */\nObservable.prototype.action = function (eventName, args) {\n  if (Observable.hasOwnKey(this.Events, eventName)) {\n    this.eachEvent(this.Events[eventName], function (key, item) {\n      item[0].apply(item[2], args)\n      if (item[1]) {\n        delete this.Events[eventName][key]\n      }\n    })\n  }\n}\n\n/**\n * 实时触发响应\n * @param eventName\n */\nObservable.prototype.dispatch = function (eventName) {\n  var that = this\n  var args = Observable.slice(arguments, 1)\n  setTimeout(function () {\n    that.action(eventName, args)\n  })\n}\n\n/**\n * 延后触发响应\n * @param eventName\n */\nObservable.prototype.dispatchSync = function (eventName) {\n  this.action(eventName, Observable.slice(arguments, 1))\n}\n\n/**\n * 清空发布中心\n */\nObservable.prototype.clear = function () {\n  this.Events = {}\n}\n\n/**\n * 绑定事件\n * @param eventName\n * @param callback\n * @param isOne\n * @param context\n * @returns {[*,*]}\n */\nObservable.prototype.bindEvent = function (eventName, callback, isOne, context) {\n  if (typeof eventName !== 'string' || typeof callback !== 'function') {\n    throw new Error('传入的事件名称和回调函数有误！')\n  }\n  if (!Observable.hasOwnKey(this.Events, eventName)) {\n    this.Events[eventName] = {}\n  }\n  this.Events[eventName][++this.__cnt] = [callback, isOne, context]\n  return [eventName, this.__cnt]\n}\n\n/**\n * 循环触发事件\n * @param obj\n * @param callback\n */\nObservable.prototype.eachEvent = function (obj, callback) {\n  for (var key in obj) {\n    if (Observable.hasOwnKey(obj, key)) {\n      callback(key, obj[key])\n    }\n  }\n}\n\nexport default Observable\n","/**\r\n * Created by FDD on 2017/5/22.\r\n * @desc 常用变量\r\n */\r\nexport const FITTING_COUNT = 100\r\nexport const HALF_PI = Math.PI / 2\r\nexport const ZERO_TOLERANCE = 0.0001\r\nexport const TWO_PI = Math.PI * 2\r\nexport const BASE_LAYERNAME = 'ol-plot-vector-layer' // 矢量图层名，（唯一标识）\r\nexport const BASE_HELP_CONTROL_POINT_ID = 'plot-helper-control-point-div' // 控制点要素的基类id\r\nexport const BASE_HELP_HIDDEN = 'plot-helper-hidden-div' // 父类隐藏容器\r\nexport const DEF_TEXT_STYEL = { // 默认文本框样式\r\n  borderRadius: '2px',\r\n  fontSize: '12px',\r\n  outline: 0,\r\n  overflow: 'hidden',\r\n  boxSizing: 'border-box',\r\n  border: '1px solid #eeeeee',\r\n  fontFamily: 'Helvetica Neue,Helvetica,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Noto Sans CJK SC,WenQuanYi Micro Hei,Arial,sans-serif',\r\n  color: '#010500',\r\n  fontWeight: 400,\r\n  padding: '3px',\r\n  fontStretch: 'normal',\r\n  lineHeight: 'normal',\r\n  textAlign: 'left',\r\n  marginLeft: 'auto',\r\n  marginRight: 'auto',\r\n  width: 'auto',\r\n  height: 'auto',\r\n  background: 'rgb(255, 255, 255)',\r\n  fontStyle: '',\r\n  fontVariant: ''\r\n}\r\n","import * as Constants from '../Constants'\r\n/**\r\n * 计算两个坐标之间的距离\r\n * @param pnt1\r\n * @param pnt2\r\n * @returns {number}\r\n * @constructor\r\n */\r\nexport const MathDistance = (pnt1, pnt2) => {\r\n  return (Math.sqrt(Math.pow((pnt1[0] - pnt2[0]), 2) + Math.pow((pnt1[1] - pnt2[1]), 2)))\r\n}\r\n\r\n/**\r\n * 计算点集合的总距离\r\n * @param points\r\n * @returns {number}\r\n */\r\nexport const wholeDistance = (points) => {\r\n  let distance = 0\r\n  if (points && Array.isArray(points) && points.length > 0) {\r\n    points.forEach((item, index) => {\r\n      if (index < points.length - 1) {\r\n        distance += (MathDistance(item, points[index + 1]))\r\n      }\r\n    })\r\n  }\r\n  return distance\r\n}\r\n/**\r\n * 获取基础长度\r\n * @param points\r\n * @returns {number}\r\n */\r\nexport const getBaseLength = (points) => {\r\n  return Math.pow(wholeDistance(points), 0.99)\r\n}\r\n\r\n/**\r\n * 求取两个坐标的中间值\r\n * @param point1\r\n * @param point2\r\n * @returns {[*,*]}\r\n * @constructor\r\n */\r\nexport const Mid = (point1, point2) => {\r\n  return [(point1[0] + point2[0]) / 2, (point1[1] + point2[1]) / 2]\r\n}\r\n\r\n/**\r\n * 通过三个点确定一个圆的中心点\r\n * @param point1\r\n * @param point2\r\n * @param point3\r\n */\r\nexport const getCircleCenterOfThreePoints = (point1, point2, point3) => {\r\n  let pntA = [(point1[0] + point2[0]) / 2, (point1[1] + point2[1]) / 2]\r\n  let pntB = [pntA[0] - point1[1] + point2[1], pntA[1] + point1[0] - point2[0]]\r\n  let pntC = [(point1[0] + point3[0]) / 2, (point1[1] + point3[1]) / 2]\r\n  let pntD = [pntC[0] - point1[1] + point3[1], pntC[1] + point1[0] - point3[0]]\r\n  return getIntersectPoint(pntA, pntB, pntC, pntD)\r\n}\r\n\r\n/**\r\n * 获取交集的点\r\n * @param pntA\r\n * @param pntB\r\n * @param pntC\r\n * @param pntD\r\n * @returns {[*,*]}\r\n */\r\nexport const getIntersectPoint = (pntA, pntB, pntC, pntD) => {\r\n  if (pntA[1] === pntB[1]) {\r\n    let f = (pntD[0] - pntC[0]) / (pntD[1] - pntC[1])\r\n    let x = f * (pntA[1] - pntC[1]) + pntC[0]\r\n    let y = pntA[1]\r\n    return [x, y]\r\n  }\r\n  if (pntC[1] === pntD[1]) {\r\n    let e = (pntB[0] - pntA[0]) / (pntB[1] - pntA[1])\r\n    let x = e * (pntC[1] - pntA[1]) + pntA[0]\r\n    let y = pntC[1]\r\n    return [x, y]\r\n  }\r\n  let e = (pntB[0] - pntA[0]) / (pntB[1] - pntA[1])\r\n  let f = (pntD[0] - pntC[0]) / (pntD[1] - pntC[1])\r\n  let y = (e * pntA[1] - pntA[0] - f * pntC[1] + pntC[0]) / (e - f)\r\n  let x = e * y - e * pntA[1] + pntA[0]\r\n  return [x, y]\r\n}\r\n\r\n/**\r\n * 获取方位角（地平经度）\r\n * @param startPoint\r\n * @param endPoint\r\n * @returns {*}\r\n */\r\nexport const getAzimuth = (startPoint, endPoint) => {\r\n  let azimuth\r\n  let angle = Math.asin(Math.abs(endPoint[1] - startPoint[1]) / (MathDistance(startPoint, endPoint)))\r\n  if (endPoint[1] >= startPoint[1] && endPoint[0] >= startPoint[0]) {\r\n    azimuth = angle + Math.PI\r\n  } else if (endPoint[1] >= startPoint[1] && endPoint[0] < startPoint[0]) {\r\n    azimuth = Math.PI * 2 - angle\r\n  } else if (endPoint[1] < startPoint[1] && endPoint[0] < startPoint[0]) {\r\n    azimuth = angle\r\n  } else if (endPoint[1] < startPoint[1] && endPoint[0] >= startPoint[0]) {\r\n    azimuth = Math.PI - angle\r\n  }\r\n  return azimuth\r\n}\r\n\r\n/**\r\n * 通过三个点获取方位角\r\n * @param pntA\r\n * @param pntB\r\n * @param pntC\r\n * @returns {number}\r\n */\r\nexport const getAngleOfThreePoints = (pntA, pntB, pntC) => {\r\n  let angle = getAzimuth(pntB, pntA) - getAzimuth(pntB, pntC)\r\n  return ((angle < 0) ? (angle + Math.PI * 2) : angle)\r\n}\r\n\r\n/**\r\n * 判断是否是顺时针\r\n * @param pnt1\r\n * @param pnt2\r\n * @param pnt3\r\n * @returns {boolean}\r\n */\r\nexport const isClockWise = (pnt1, pnt2, pnt3) => {\r\n  return ((pnt3[1] - pnt1[1]) * (pnt2[0] - pnt1[0]) > (pnt2[1] - pnt1[1]) * (pnt3[0] - pnt1[0]))\r\n}\r\n\r\n/**\r\n * 获取线上的点\r\n * @param t\r\n * @param startPnt\r\n * @param endPnt\r\n * @returns {[*,*]}\r\n */\r\nexport const getPointOnLine = (t, startPnt, endPnt) => {\r\n  let x = startPnt[0] + (t * (endPnt[0] - startPnt[0]))\r\n  let y = startPnt[1] + (t * (endPnt[1] - startPnt[1]))\r\n  return [x, y]\r\n}\r\n\r\n/**\r\n * 获取立方值\r\n * @param t\r\n * @param startPnt\r\n * @param cPnt1\r\n * @param cPnt2\r\n * @param endPnt\r\n * @returns {[*,*]}\r\n */\r\nexport const getCubicValue = (t, startPnt, cPnt1, cPnt2, endPnt) => {\r\n  t = Math.max(Math.min(t, 1), 0)\r\n  let [tp, t2] = [(1 - t), (t * t)]\r\n  let t3 = t2 * t\r\n  let tp2 = tp * tp\r\n  let tp3 = tp2 * tp\r\n  let x = (tp3 * startPnt[0]) + (3 * tp2 * t * cPnt1[0]) + (3 * tp * t2 * cPnt2[0]) + (t3 * endPnt[0])\r\n  let y = (tp3 * startPnt[1]) + (3 * tp2 * t * cPnt1[1]) + (3 * tp * t2 * cPnt2[1]) + (t3 * endPnt[1])\r\n  return [x, y]\r\n}\r\n\r\n/**\r\n * 根据起止点和旋转方向求取第三个点\r\n * @param startPnt\r\n * @param endPnt\r\n * @param angle\r\n * @param distance\r\n * @param clockWise\r\n * @returns {[*,*]}\r\n */\r\nexport const getThirdPoint = (startPnt, endPnt, angle, distance, clockWise) => {\r\n  let azimuth = getAzimuth(startPnt, endPnt)\r\n  let alpha = clockWise ? (azimuth + angle) : (azimuth - angle)\r\n  let dx = distance * Math.cos(alpha)\r\n  let dy = distance * Math.sin(alpha)\r\n  return ([endPnt[0] + dx, endPnt[1] + dy])\r\n}\r\n\r\n/**\r\n * 函数继承\r\n * @param childCtor\r\n * @param parentCtor\r\n */\r\nexport const inherits = (childCtor, parentCtor) => {\r\n  /** @constructor */\r\n  function TempCtor () {\r\n  }\r\n\r\n  TempCtor.prototype = parentCtor.prototype\r\n  childCtor.superClass_ = parentCtor.prototype\r\n  childCtor.prototype = new TempCtor()\r\n  /** @override */\r\n  childCtor.prototype.constructor = childCtor\r\n  childCtor.base = function (me, methodName, varArgs) {\r\n    let args = Array.prototype.slice.call(arguments, 2)\r\n    return parentCtor.prototype[methodName].apply(me, args)\r\n  }\r\n}\r\n\r\n/**\r\n * 插值弓形线段点\r\n * @param center\r\n * @param radius\r\n * @param startAngle\r\n * @param endAngle\r\n * @returns {null}\r\n */\r\nexport const getArcPoints = (center, radius, startAngle, endAngle) => {\r\n  let [x, y, pnts, angleDiff] = [null, null, [], (endAngle - startAngle)]\r\n  angleDiff = ((angleDiff < 0) ? (angleDiff + (Math.PI * 2)) : angleDiff)\r\n  for (let i = 0; i <= 100; i++) {\r\n    let angle = startAngle + angleDiff * i / 100\r\n    x = center[0] + radius * Math.cos(angle)\r\n    y = center[1] + radius * Math.sin(angle)\r\n    pnts.push([x, y])\r\n  }\r\n  return pnts\r\n}\r\n\r\n/**\r\n * getBisectorNormals\r\n * @param t\r\n * @param pnt1\r\n * @param pnt2\r\n * @param pnt3\r\n * @returns {[*,*]}\r\n */\r\nexport const getBisectorNormals = (t, pnt1, pnt2, pnt3) => {\r\n  let normal = getNormal(pnt1, pnt2, pnt3)\r\n  let [bisectorNormalRight, bisectorNormalLeft, dt, x, y] = [null, null, null, null, null]\r\n  let dist = Math.sqrt(normal[0] * normal[0] + normal[1] * normal[1])\r\n  let uX = normal[0] / dist\r\n  let uY = normal[1] / dist\r\n  let d1 = MathDistance(pnt1, pnt2)\r\n  let d2 = MathDistance(pnt2, pnt3)\r\n  if (dist > Constants.ZERO_TOLERANCE) {\r\n    if (isClockWise(pnt1, pnt2, pnt3)) {\r\n      dt = t * d1\r\n      x = pnt2[0] - dt * uY\r\n      y = pnt2[1] + dt * uX\r\n      bisectorNormalRight = [x, y]\r\n      dt = t * d2\r\n      x = pnt2[0] + dt * uY\r\n      y = pnt2[1] - dt * uX\r\n      bisectorNormalLeft = [x, y]\r\n    } else {\r\n      dt = t * d1\r\n      x = pnt2[0] + dt * uY\r\n      y = pnt2[1] - dt * uX\r\n      bisectorNormalRight = [x, y]\r\n      dt = t * d2\r\n      x = pnt2[0] - dt * uY\r\n      y = pnt2[1] + dt * uX\r\n      bisectorNormalLeft = [x, y]\r\n    }\r\n  } else {\r\n    x = pnt2[0] + t * (pnt1[0] - pnt2[0])\r\n    y = pnt2[1] + t * (pnt1[1] - pnt2[1])\r\n    bisectorNormalRight = [x, y]\r\n    x = pnt2[0] + t * (pnt3[0] - pnt2[0])\r\n    y = pnt2[1] + t * (pnt3[1] - pnt2[1])\r\n    bisectorNormalLeft = [x, y]\r\n  }\r\n  return [bisectorNormalRight, bisectorNormalLeft]\r\n}\r\n\r\n/**\r\n * 获取默认三点的内切圆\r\n * @param pnt1\r\n * @param pnt2\r\n * @param pnt3\r\n * @returns {[*,*]}\r\n */\r\nexport const getNormal = (pnt1, pnt2, pnt3) => {\r\n  let dX1 = pnt1[0] - pnt2[0]\r\n  let dY1 = pnt1[1] - pnt2[1]\r\n  let d1 = Math.sqrt(dX1 * dX1 + dY1 * dY1)\r\n  dX1 /= d1\r\n  dY1 /= d1\r\n  let dX2 = pnt3[0] - pnt2[0]\r\n  let dY2 = pnt3[1] - pnt2[1]\r\n  let d2 = Math.sqrt(dX2 * dX2 + dY2 * dY2)\r\n  dX2 /= d2\r\n  dY2 /= d2\r\n  let uX = dX1 + dX2\r\n  let uY = dY1 + dY2\r\n  return [uX, uY]\r\n}\r\n\r\n/**\r\n * 获取左边控制点\r\n * @param controlPoints\r\n * @returns {[*,*]}\r\n */\r\nexport const getLeftMostControlPoint = (controlPoints, t) => {\r\n  let [pnt1, pnt2, pnt3, controlX, controlY] = [controlPoints[0], controlPoints[1], controlPoints[2], null, null]\r\n  let pnts = getBisectorNormals(0, pnt1, pnt2, pnt3)\r\n  let normalRight = pnts[0]\r\n  let normal = getNormal(pnt1, pnt2, pnt3)\r\n  let dist = Math.sqrt(normal[0] * normal[0] + normal[1] * normal[1])\r\n  if (dist > Constants.ZERO_TOLERANCE) {\r\n    let mid = Mid(pnt1, pnt2)\r\n    let pX = pnt1[0] - mid[0]\r\n    let pY = pnt1[1] - mid[1]\r\n    let d1 = MathDistance(pnt1, pnt2)\r\n    let n = 2.0 / d1\r\n    let nX = -n * pY\r\n    let nY = n * pX\r\n    let a11 = nX * nX - nY * nY\r\n    let a12 = 2 * nX * nY\r\n    let a22 = nY * nY - nX * nX\r\n    let dX = normalRight[0] - mid[0]\r\n    let dY = normalRight[1] - mid[1]\r\n    controlX = mid[0] + a11 * dX + a12 * dY\r\n    controlY = mid[1] + a12 * dX + a22 * dY\r\n  } else {\r\n    controlX = pnt1[0] + t * (pnt2[0] - pnt1[0])\r\n    controlY = pnt1[1] + t * (pnt2[1] - pnt1[1])\r\n  }\r\n  return [controlX, controlY]\r\n}\r\n\r\n/**\r\n * 获取右边控制点\r\n * @param controlPoints\r\n * @param t\r\n * @returns {[*,*]}\r\n */\r\nexport const getRightMostControlPoint = (controlPoints, t) => {\r\n  let count = controlPoints.length\r\n  let pnt1 = controlPoints[count - 3]\r\n  let pnt2 = controlPoints[count - 2]\r\n  let pnt3 = controlPoints[count - 1]\r\n  let pnts = getBisectorNormals(0, pnt1, pnt2, pnt3)\r\n  let normalLeft = pnts[1]\r\n  let normal = getNormal(pnt1, pnt2, pnt3)\r\n  let dist = Math.sqrt(normal[0] * normal[0] + normal[1] * normal[1])\r\n  let [controlX, controlY] = [null, null]\r\n  if (dist > Constants.ZERO_TOLERANCE) {\r\n    let mid = Mid(pnt2, pnt3)\r\n    let pX = pnt3[0] - mid[0]\r\n    let pY = pnt3[1] - mid[1]\r\n    let d1 = MathDistance(pnt2, pnt3)\r\n    let n = 2.0 / d1\r\n    let nX = -n * pY\r\n    let nY = n * pX\r\n    let a11 = nX * nX - nY * nY\r\n    let a12 = 2 * nX * nY\r\n    let a22 = nY * nY - nX * nX\r\n    let dX = normalLeft[0] - mid[0]\r\n    let dY = normalLeft[1] - mid[1]\r\n    controlX = mid[0] + a11 * dX + a12 * dY\r\n    controlY = mid[1] + a12 * dX + a22 * dY\r\n  } else {\r\n    controlX = pnt3[0] + t * (pnt2[0] - pnt3[0])\r\n    controlY = pnt3[1] + t * (pnt2[1] - pnt3[1])\r\n  }\r\n  return [controlX, controlY]\r\n}\r\n\r\n/**\r\n * 插值曲线点\r\n * @param t\r\n * @param controlPoints\r\n * @returns {null}\r\n */\r\nexport const getCurvePoints = (t, controlPoints) => {\r\n  let leftControl = getLeftMostControlPoint(controlPoints, t)\r\n  let [pnt1, pnt2, pnt3, normals, points] = [null, null, null, [leftControl], []]\r\n  for (let i = 0; i < controlPoints.length - 2; i++) {\r\n    [pnt1, pnt2, pnt3] = [controlPoints[i], controlPoints[i + 1], controlPoints[i + 2]]\r\n    let normalPoints = getBisectorNormals(t, pnt1, pnt2, pnt3)\r\n    normals = normals.concat(normalPoints)\r\n  }\r\n  let rightControl = getRightMostControlPoint(controlPoints, t)\r\n  if (rightControl) {\r\n    normals.push(rightControl)\r\n  }\r\n  for (let i = 0; i < controlPoints.length - 1; i++) {\r\n    pnt1 = controlPoints[i]\r\n    pnt2 = controlPoints[i + 1]\r\n    points.push(pnt1)\r\n    for (let t = 0; t < Constants.FITTING_COUNT; t++) {\r\n      let pnt = getCubicValue(t / Constants.FITTING_COUNT, pnt1, normals[i * 2], normals[i * 2 + 1], pnt2)\r\n      points.push(pnt)\r\n    }\r\n    points.push(pnt2)\r\n  }\r\n  return points\r\n}\r\n\r\n/**\r\n * 贝塞尔曲线\r\n * @param points\r\n * @returns {*}\r\n */\r\nexport const getBezierPoints = function (points) {\r\n  if (points.length <= 2) {\r\n    return points\r\n  } else {\r\n    let bezierPoints = []\r\n    let n = points.length - 1\r\n    for (let t = 0; t <= 1; t += 0.01) {\r\n      let [x, y] = [0, 0]\r\n      for (let index = 0; index <= n; index++) {\r\n        let factor = getBinomialFactor(n, index)\r\n        let a = Math.pow(t, index)\r\n        let b = Math.pow((1 - t), (n - index))\r\n        x += factor * a * b * points[index][0]\r\n        y += factor * a * b * points[index][1]\r\n      }\r\n      bezierPoints.push([x, y])\r\n    }\r\n    bezierPoints.push(points[n])\r\n    return bezierPoints\r\n  }\r\n}\r\n\r\n/**\r\n * 获取阶乘数据\r\n * @param n\r\n * @returns {number}\r\n */\r\nexport const getFactorial = (n) => {\r\n  let result = 1\r\n  switch (n) {\r\n    case (n <= 1):\r\n      result = 1\r\n      break\r\n    case (n === 2):\r\n      result = 2\r\n      break\r\n    case (n === 3):\r\n      result = 6\r\n      break\r\n    case (n === 24):\r\n      result = 24\r\n      break\r\n    case (n === 5):\r\n      result = 120\r\n      break\r\n    default:\r\n      for (let i = 1; i <= n; i++) {\r\n        result *= i\r\n      }\r\n      break\r\n  }\r\n  return result\r\n}\r\n\r\n/**\r\n * 获取二项分布\r\n * @param n\r\n * @param index\r\n * @returns {number}\r\n */\r\nexport const getBinomialFactor = (n, index) => {\r\n  return (getFactorial(n) / (getFactorial(index) * getFactorial(n - index)))\r\n}\r\n\r\n/**\r\n * 插值线性点\r\n * @param points\r\n * @returns {*}\r\n */\r\nexport const getQBSplinePoints = points => {\r\n  if (points.length <= 2) {\r\n    return points\r\n  } else {\r\n    let [n, bSplinePoints] = [2, []]\r\n    let m = points.length - n - 1\r\n    bSplinePoints.push(points[0])\r\n    for (let i = 0; i <= m; i++) {\r\n      for (let t = 0; t <= 1; t += 0.05) {\r\n        let [x, y] = [0, 0]\r\n        for (let k = 0; k <= n; k++) {\r\n          let factor = getQuadricBSplineFactor(k, t)\r\n          x += factor * points[i + k][0]\r\n          y += factor * points[i + k][1]\r\n        }\r\n        bSplinePoints.push([x, y])\r\n      }\r\n    }\r\n    bSplinePoints.push(points[points.length - 1])\r\n    return bSplinePoints\r\n  }\r\n}\r\n\r\n/**\r\n * 得到二次线性因子\r\n * @param k\r\n * @param t\r\n * @returns {number}\r\n */\r\nexport const getQuadricBSplineFactor = (k, t) => {\r\n  let res = 0\r\n  if (k === 0) {\r\n    res = Math.pow(t - 1, 2) / 2\r\n  } else if (k === 1) {\r\n    res = (-2 * Math.pow(t, 2) + 2 * t + 1) / 2\r\n  } else if (k === 2) {\r\n    res = Math.pow(t, 2) / 2\r\n  }\r\n  return res\r\n}\r\n\r\n/**\r\n * 获取id\r\n * @returns {*|string|!Array.<T>}\r\n */\r\nexport const getuuid = () => {\r\n  let [ s, hexDigits ] = [ [], '0123456789abcdef' ]\r\n  for (let i = 0; i < 36; i++) {\r\n    s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1)\r\n  }\r\n  s[14] = '4'\r\n  s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1)\r\n  s[8] = s[13] = s[18] = s[23] = '-'\r\n  return (s.join(''))\r\n}\r\n\r\n/**\r\n * 添加标识\r\n * @param obj\r\n * @returns {*}\r\n */\r\nexport const stamp = function (obj) {\r\n  let key = '_event_id_'\r\n  obj[key] = obj[key] || (getuuid())\r\n  return obj[key]\r\n}\r\n\r\n/**\r\n * 去除字符串前后空格\r\n * @param str\r\n * @returns {*}\r\n */\r\nexport const trim = (str) => {\r\n  return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '')\r\n}\r\n\r\n/**\r\n * 将类名截取成数组\r\n * @param str\r\n * @returns {Array|*}\r\n */\r\nexport const splitWords = (str) => {\r\n  return trim(str).split(/\\s+/)\r\n}\r\n\r\n/**\r\n * 判断是否为对象\r\n * @param value\r\n * @returns {boolean}\r\n */\r\nexport const isObject = value => {\r\n  const type = typeof value\r\n  return value !== null && (type === 'object' || type === 'function')\r\n}\r\n\r\n/**\r\n * merge\r\n * @param a\r\n * @param b\r\n * @returns {*}\r\n */\r\nexport const merge = (a, b) => {\r\n  for (const key in b) {\r\n    if (isObject(b[key]) && isObject(a[key])) {\r\n      merge(a[key], b[key])\r\n    } else {\r\n      a[key] = b[key]\r\n    }\r\n  }\r\n  return a\r\n}\r\n\r\nexport function preventDefault (e) {\r\n  e = e || window.event\r\n  if (e.preventDefault) {\r\n    e.preventDefault()\r\n  } else {\r\n    e.returnValue = false\r\n  }\r\n}\r\n\r\nexport function bindAll (fns, context) {\r\n  fns.forEach((fn) => {\r\n    if (!context[fn]) { return }\r\n    context[fn] = context[fn].bind(context)\r\n  })\r\n}\r\n","import {\r\n  Style as $Style,\r\n  Stroke as $Stroke,\r\n  Fill as $Fill,\r\n  Circle as $Circle\r\n} from 'ol/style'\r\n\r\nimport {\r\n  Group as $Group,\r\n  Vector as $VectorLayer\r\n} from 'ol/layer'\r\n\r\nimport { Vector as $VectorSource } from 'ol/source'\r\n\r\n/**\r\n * 通过layerName获取图层\r\n * @param map\r\n * @param layerName\r\n * @returns {*}\r\n */\r\nconst getLayerByLayerName = function (map, layerName) {\r\n  try {\r\n    let targetLayer = null\r\n    if (map) {\r\n      let layers = map.getLayers().getArray()\r\n      targetLayer = getLayerInternal(layers, 'layerName', layerName)\r\n    }\r\n    return targetLayer\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\n/**\r\n * 内部处理获取图层方法\r\n * @param layers\r\n * @param key\r\n * @param value\r\n * @returns {*}\r\n */\r\nconst getLayerInternal = function (layers, key, value) {\r\n  let _target = null\r\n  if (layers.length > 0) {\r\n    layers.every(layer => {\r\n      if (layer instanceof $Group) {\r\n        let layers = layer.getLayers().getArray()\r\n        _target = getLayerInternal(layers, key, value)\r\n        if (_target) {\r\n          return false\r\n        } else {\r\n          return true\r\n        }\r\n      } else if (layer.get(key) === value) {\r\n        _target = layer\r\n        return false\r\n      } else {\r\n        return true\r\n      }\r\n    })\r\n  }\r\n  return _target\r\n}\r\n\r\n/**\r\n * 创建临时图层\r\n * @param map\r\n * @param layerName\r\n * @param params\r\n * @returns {*}\r\n */\r\nconst createVectorLayer = function (map, layerName, params) {\r\n  try {\r\n    if (map) {\r\n      let vectorLayer = getLayerByLayerName(map, layerName)\r\n      if (!(vectorLayer instanceof $VectorLayer)) {\r\n        vectorLayer = null\r\n      }\r\n      if (!vectorLayer) {\r\n        if (params && params.create) {\r\n          vectorLayer = new $VectorLayer({\r\n            layerName: layerName,\r\n            params: params,\r\n            layerType: 'vector',\r\n            source: new $VectorSource({\r\n              wrapX: false\r\n            }),\r\n            style: new $Style({\r\n              fill: new $Fill({\r\n                color: 'rgba(67, 110, 238, 0.4)'\r\n              }),\r\n              stroke: new $Stroke({\r\n                color: '#4781d9',\r\n                width: 2\r\n              }),\r\n              image: new $Circle({\r\n                radius: 7,\r\n                fill: new $Fill({\r\n                  color: '#ffcc33'\r\n                })\r\n              })\r\n            })\r\n          })\r\n        }\r\n      }\r\n      if (map && vectorLayer) {\r\n        if (params && params.hasOwnProperty('selectable')) {\r\n          vectorLayer.set('selectable', params.selectable)\r\n        }\r\n        // 图层只添加一次\r\n        let _vectorLayer = getLayerByLayerName(map, layerName)\r\n        if (!_vectorLayer || !(_vectorLayer instanceof $VectorLayer)) {\r\n          map.addLayer(vectorLayer)\r\n        }\r\n      }\r\n      return vectorLayer\r\n    }\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\nexport {\r\n  createVectorLayer,\r\n  getLayerByLayerName\r\n}\r\n","/*!\n\tautosize 4.0.2\n\tlicense: MIT\n\thttp://www.jacklmoore.com/autosize\n*/\n(function (global, factory) {\n\tif (typeof define === \"function\" && define.amd) {\n\t\tdefine(['module', 'exports'], factory);\n\t} else if (typeof exports !== \"undefined\") {\n\t\tfactory(module, exports);\n\t} else {\n\t\tvar mod = {\n\t\t\texports: {}\n\t\t};\n\t\tfactory(mod, mod.exports);\n\t\tglobal.autosize = mod.exports;\n\t}\n})(this, function (module, exports) {\n\t'use strict';\n\n\tvar map = typeof Map === \"function\" ? new Map() : function () {\n\t\tvar keys = [];\n\t\tvar values = [];\n\n\t\treturn {\n\t\t\thas: function has(key) {\n\t\t\t\treturn keys.indexOf(key) > -1;\n\t\t\t},\n\t\t\tget: function get(key) {\n\t\t\t\treturn values[keys.indexOf(key)];\n\t\t\t},\n\t\t\tset: function set(key, value) {\n\t\t\t\tif (keys.indexOf(key) === -1) {\n\t\t\t\t\tkeys.push(key);\n\t\t\t\t\tvalues.push(value);\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelete: function _delete(key) {\n\t\t\t\tvar index = keys.indexOf(key);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tkeys.splice(index, 1);\n\t\t\t\t\tvalues.splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}();\n\n\tvar createEvent = function createEvent(name) {\n\t\treturn new Event(name, { bubbles: true });\n\t};\n\ttry {\n\t\tnew Event('test');\n\t} catch (e) {\n\t\t// IE does not support `new Event()`\n\t\tcreateEvent = function createEvent(name) {\n\t\t\tvar evt = document.createEvent('Event');\n\t\t\tevt.initEvent(name, true, false);\n\t\t\treturn evt;\n\t\t};\n\t}\n\n\tfunction assign(ta) {\n\t\tif (!ta || !ta.nodeName || ta.nodeName !== 'TEXTAREA' || map.has(ta)) return;\n\n\t\tvar heightOffset = null;\n\t\tvar clientWidth = null;\n\t\tvar cachedHeight = null;\n\n\t\tfunction init() {\n\t\t\tvar style = window.getComputedStyle(ta, null);\n\n\t\t\tif (style.resize === 'vertical') {\n\t\t\t\tta.style.resize = 'none';\n\t\t\t} else if (style.resize === 'both') {\n\t\t\t\tta.style.resize = 'horizontal';\n\t\t\t}\n\n\t\t\tif (style.boxSizing === 'content-box') {\n\t\t\t\theightOffset = -(parseFloat(style.paddingTop) + parseFloat(style.paddingBottom));\n\t\t\t} else {\n\t\t\t\theightOffset = parseFloat(style.borderTopWidth) + parseFloat(style.borderBottomWidth);\n\t\t\t}\n\t\t\t// Fix when a textarea is not on document body and heightOffset is Not a Number\n\t\t\tif (isNaN(heightOffset)) {\n\t\t\t\theightOffset = 0;\n\t\t\t}\n\n\t\t\tupdate();\n\t\t}\n\n\t\tfunction changeOverflow(value) {\n\t\t\t{\n\t\t\t\t// Chrome/Safari-specific fix:\n\t\t\t\t// When the textarea y-overflow is hidden, Chrome/Safari do not reflow the text to account for the space\n\t\t\t\t// made available by removing the scrollbar. The following forces the necessary text reflow.\n\t\t\t\tvar width = ta.style.width;\n\t\t\t\tta.style.width = '0px';\n\t\t\t\t// Force reflow:\n\t\t\t\t/* jshint ignore:start */\n\t\t\t\tta.offsetWidth;\n\t\t\t\t/* jshint ignore:end */\n\t\t\t\tta.style.width = width;\n\t\t\t}\n\n\t\t\tta.style.overflowY = value;\n\t\t}\n\n\t\tfunction getParentOverflows(el) {\n\t\t\tvar arr = [];\n\n\t\t\twhile (el && el.parentNode && el.parentNode instanceof Element) {\n\t\t\t\tif (el.parentNode.scrollTop) {\n\t\t\t\t\tarr.push({\n\t\t\t\t\t\tnode: el.parentNode,\n\t\t\t\t\t\tscrollTop: el.parentNode.scrollTop\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tel = el.parentNode;\n\t\t\t}\n\n\t\t\treturn arr;\n\t\t}\n\n\t\tfunction resize() {\n\t\t\tif (ta.scrollHeight === 0) {\n\t\t\t\t// If the scrollHeight is 0, then the element probably has display:none or is detached from the DOM.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar overflows = getParentOverflows(ta);\n\t\t\tvar docTop = document.documentElement && document.documentElement.scrollTop; // Needed for Mobile IE (ticket #240)\n\n\t\t\tta.style.height = '';\n\t\t\tta.style.height = ta.scrollHeight + heightOffset + 'px';\n\n\t\t\t// used to check if an update is actually necessary on window.resize\n\t\t\tclientWidth = ta.clientWidth;\n\n\t\t\t// prevents scroll-position jumping\n\t\t\toverflows.forEach(function (el) {\n\t\t\t\tel.node.scrollTop = el.scrollTop;\n\t\t\t});\n\n\t\t\tif (docTop) {\n\t\t\t\tdocument.documentElement.scrollTop = docTop;\n\t\t\t}\n\t\t}\n\n\t\tfunction update() {\n\t\t\tresize();\n\n\t\t\tvar styleHeight = Math.round(parseFloat(ta.style.height));\n\t\t\tvar computed = window.getComputedStyle(ta, null);\n\n\t\t\t// Using offsetHeight as a replacement for computed.height in IE, because IE does not account use of border-box\n\t\t\tvar actualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(computed.height)) : ta.offsetHeight;\n\n\t\t\t// The actual height not matching the style height (set via the resize method) indicates that \n\t\t\t// the max-height has been exceeded, in which case the overflow should be allowed.\n\t\t\tif (actualHeight < styleHeight) {\n\t\t\t\tif (computed.overflowY === 'hidden') {\n\t\t\t\t\tchangeOverflow('scroll');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Normally keep overflow set to hidden, to avoid flash of scrollbar as the textarea expands.\n\t\t\t\tif (computed.overflowY !== 'hidden') {\n\t\t\t\t\tchangeOverflow('hidden');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (cachedHeight !== actualHeight) {\n\t\t\t\tcachedHeight = actualHeight;\n\t\t\t\tvar evt = createEvent('autosize:resized');\n\t\t\t\ttry {\n\t\t\t\t\tta.dispatchEvent(evt);\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// Firefox will throw an error on dispatchEvent for a detached element\n\t\t\t\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=889376\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar pageResize = function pageResize() {\n\t\t\tif (ta.clientWidth !== clientWidth) {\n\t\t\t\tupdate();\n\t\t\t}\n\t\t};\n\n\t\tvar destroy = function (style) {\n\t\t\twindow.removeEventListener('resize', pageResize, false);\n\t\t\tta.removeEventListener('input', update, false);\n\t\t\tta.removeEventListener('keyup', update, false);\n\t\t\tta.removeEventListener('autosize:destroy', destroy, false);\n\t\t\tta.removeEventListener('autosize:update', update, false);\n\n\t\t\tObject.keys(style).forEach(function (key) {\n\t\t\t\tta.style[key] = style[key];\n\t\t\t});\n\n\t\t\tmap.delete(ta);\n\t\t}.bind(ta, {\n\t\t\theight: ta.style.height,\n\t\t\tresize: ta.style.resize,\n\t\t\toverflowY: ta.style.overflowY,\n\t\t\toverflowX: ta.style.overflowX,\n\t\t\twordWrap: ta.style.wordWrap\n\t\t});\n\n\t\tta.addEventListener('autosize:destroy', destroy, false);\n\n\t\t// IE9 does not fire onpropertychange or oninput for deletions,\n\t\t// so binding to onkeyup to catch most of those events.\n\t\t// There is no way that I know of to detect something like 'cut' in IE9.\n\t\tif ('onpropertychange' in ta && 'oninput' in ta) {\n\t\t\tta.addEventListener('keyup', update, false);\n\t\t}\n\n\t\twindow.addEventListener('resize', pageResize, false);\n\t\tta.addEventListener('input', update, false);\n\t\tta.addEventListener('autosize:update', update, false);\n\t\tta.style.overflowX = 'hidden';\n\t\tta.style.wordWrap = 'break-word';\n\n\t\tmap.set(ta, {\n\t\t\tdestroy: destroy,\n\t\t\tupdate: update\n\t\t});\n\n\t\tinit();\n\t}\n\n\tfunction destroy(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.destroy();\n\t\t}\n\t}\n\n\tfunction update(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.update();\n\t\t}\n\t}\n\n\tvar autosize = null;\n\n\t// Do nothing in Node.js environment and IE8 (or lower)\n\tif (typeof window === 'undefined' || typeof window.getComputedStyle !== 'function') {\n\t\tautosize = function autosize(el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\treturn el;\n\t\t};\n\t} else {\n\t\tautosize = function autosize(el, options) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], function (x) {\n\t\t\t\t\treturn assign(x, options);\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], destroy);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], update);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t}\n\n\texports.default = autosize;\n\tmodule.exports = exports['default'];\n});","/* eslint no-useless-escape: \"off\" */\r\nconst SPECIAL_CHARS_REGEXP = /([\\:\\-\\_]+(.))/g\r\nconst MOZ_HACK_REGEXP = /^moz([A-Z])/\r\n\r\n/* istanbul ignore next */\r\nexport const create = function (tagName, className, container, id) {\r\n  let el = document.createElement(tagName)\r\n  el.className = className || ''\r\n  if (id) {\r\n    el.id = id\r\n  }\r\n  if (container) {\r\n    container.appendChild(el)\r\n  }\r\n  return el\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport const getElement = function (id) {\r\n  return typeof id === 'string' ? document.getElementById(id) : id\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport const remove = function (el) {\r\n  let parent = el.parentNode\r\n  if (parent) {\r\n    parent.removeChild(el)\r\n  }\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport const empty = function (el) {\r\n  while (el.firstChild) {\r\n    el.removeChild(el.firstChild)\r\n  }\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport const createHidden = function (tagName, parent, id) {\r\n  let element = document.createElement(tagName)\r\n  element.style.display = 'none'\r\n  if (id) {\r\n    element.id = id\r\n  }\r\n  if (parent) {\r\n    parent.appendChild(element)\r\n  }\r\n  return element\r\n}\r\n\r\n/* istanbul ignore next */\r\nconst trim = function (string) {\r\n  return (string || '').replace(/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$/g, '')\r\n}\r\n\r\n/* istanbul ignore next */\r\nconst camelCase = function (name) {\r\n  return name.replace(SPECIAL_CHARS_REGEXP, function (_, separator, letter, offset) {\r\n    return offset ? letter.toUpperCase() : letter\r\n  }).replace(MOZ_HACK_REGEXP, 'Moz$1')\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport const on = (function () {\r\n  if (document.addEventListener) {\r\n    return function (element, event, handler) {\r\n      if (element && event && handler) {\r\n        element.addEventListener(event, handler, false)\r\n      }\r\n    }\r\n  }\r\n})()\r\n\r\n/* istanbul ignore next */\r\nexport const off = (function () {\r\n  if (document.removeEventListener) {\r\n    return function (element, event, handler) {\r\n      if (element && event) {\r\n        element.removeEventListener(event, handler, false)\r\n      }\r\n    }\r\n  }\r\n})()\r\n\r\n/* istanbul ignore next */\r\nexport const once = function (el, event, fn) {\r\n  const listener = function () {\r\n    if (fn) {\r\n      fn.apply(this, arguments)\r\n    }\r\n    off(el, event, listener)\r\n  }\r\n  on(el, event, listener)\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport function hasClass (el, cls) {\r\n  if (!el || !cls) return false\r\n  if (cls.indexOf(' ') !== -1) throw new Error('className should not contain space.')\r\n  if (el.classList) {\r\n    return el.classList.contains(cls)\r\n  } else {\r\n    return (' ' + el.className + ' ').indexOf(' ' + cls + ' ') > -1\r\n  }\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport function addClass (el, cls) {\r\n  if (!el) return\r\n  let curClass = el.className\r\n  let classes = (cls || '').split(' ')\r\n  for (let i = 0, j = classes.length; i < j; i++) {\r\n    let clsName = classes[i]\r\n    if (!clsName) continue\r\n    if (el.classList) {\r\n      el.classList.add(clsName)\r\n    } else if (!hasClass(el, clsName)) {\r\n      curClass += ' ' + clsName\r\n    }\r\n  }\r\n  if (!el.classList) {\r\n    el.className = curClass\r\n  }\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport function removeClass (el, cls) {\r\n  if (!el || !cls) return\r\n  const classes = cls.split(' ')\r\n  let curClass = ' ' + el.className + ' '\r\n  for (let i = 0, j = classes.length; i < j; i++) {\r\n    let clsName = classes[i]\r\n    if (!clsName) continue\r\n    if (el.classList) {\r\n      el.classList.remove(clsName)\r\n    } else if (hasClass(el, clsName)) {\r\n      curClass = curClass.replace(' ' + clsName + ' ', ' ')\r\n    }\r\n  }\r\n  if (!el.classList) {\r\n    el.className = trim(curClass)\r\n  }\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport function getStyle (element, styleName) {\r\n  if (!element || !styleName) return null\r\n  styleName = camelCase(styleName)\r\n  if (styleName === 'float') {\r\n    styleName = 'cssFloat'\r\n  }\r\n  try {\r\n    const computed = document.defaultView.getComputedStyle(element, '')\r\n    return element.style[styleName] || computed ? computed[styleName] : null\r\n  } catch (e) {\r\n    return element.style[styleName]\r\n  }\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport function setStyle (element, styleName, value) {\r\n  if (!element || !styleName) return\r\n  if (typeof styleName === 'object') {\r\n    for (var prop in styleName) {\r\n      if (styleName.hasOwnProperty(prop)) {\r\n        setStyle(element, prop, styleName[prop])\r\n      }\r\n    }\r\n  } else {\r\n    styleName = camelCase(styleName)\r\n    if (styleName === 'opacity') {\r\n      element.style.filter = isNaN(value) ? '' : 'alpha(opacity=' + value * 100 + ')'\r\n    } else {\r\n      element.style[styleName] = value\r\n    }\r\n  }\r\n}\r\n","import { Map, Overlay } from 'ol'\r\nimport { DragPan as $DragPan } from 'ol/interaction'\r\nimport autosize from 'autosize'\r\nimport { DEF_TEXT_STYEL } from '../../Constants'\r\nimport { merge, bindAll } from '../../Utils/utils'\r\nimport { on, off, hasClass, setStyle, getStyle } from '../../Utils/domUtils'\r\n\r\nclass PlotTextBox extends Overlay {\r\n  constructor (options = {}) {\r\n    const [id, element, offset, stopEvent, positioning, insertFirst,\r\n      autoPan, autoPanAnimation, autoPanMargin, className] = [\r\n      options['id'], options['element'], options['offset'], options['stopEvent'],\r\n      options['positioning'], options['insertFirst'], options['autoPan'],\r\n      options['autoPanAnimation'], options['autoPanMargin'],\r\n      (options['className'] ? options['className'] : 'ol-plot-text-editor')\r\n    ]\r\n    super({\r\n      id,\r\n      element,\r\n      stopEvent,\r\n      insertFirst,\r\n      autoPan,\r\n      autoPanAnimation,\r\n      autoPanMargin,\r\n      className\r\n    })\r\n    this.setOffset(offset !== undefined ? offset : [0, 0])\r\n    this.setPositioning(positioning !== undefined ? positioning : 'center-center')\r\n\r\n    /**\r\n     * 地图交互\r\n     * @type {undefined}\r\n     */\r\n    this.mapDragPan = undefined\r\n\r\n    /**\r\n     * is click\r\n     * @type {boolean}\r\n     * @private\r\n     */\r\n    this.isClick_ = false\r\n\r\n    /**\r\n     * 是否处于拖拽状态\r\n     * @type {boolean}\r\n     * @private\r\n     */\r\n    this.dragging_ = false\r\n\r\n    /**\r\n     * 当前气泡是否获取焦点\r\n     * @type {boolean}\r\n     * @private\r\n     */\r\n    this.isFocus_ = false\r\n\r\n    /**\r\n     * 当前配置信息\r\n     * @type {{}}\r\n     * @private\r\n     */\r\n    this.options_ = options\r\n\r\n    /**\r\n     * 当前气泡位置\r\n     * @type {Array}\r\n     * @private\r\n     */\r\n    this._position = (options['position'] && options['position'].length > 0) ? options['position'] : []\r\n\r\n    /**\r\n     * 防抖延时\r\n     * @type {null}\r\n     * @private\r\n     */\r\n    this.handleTimer_ = null\r\n\r\n    /**\r\n     * 每次鼠标按下的位置\r\n     * @type {Array}\r\n     * @private\r\n     */\r\n    this.currentPixel_ = []\r\n\r\n    bindAll([\r\n      'handleFocus_',\r\n      'handleBlur_',\r\n      'handleClick_',\r\n      'handleDragStart_',\r\n      'handleDragEnd_',\r\n      'handleDragDrag_',\r\n      'closeCurrentPlotText',\r\n      'handleResizeMouseDown_',\r\n      'handleResizeMouseMove_',\r\n      'handleResizeMouseUp_',\r\n      'resizeButtonMoveHandler_'\r\n    ], this)\r\n\r\n    /**\r\n     * 创建text content\r\n     */\r\n    this.createTextContent(options)\r\n  }\r\n\r\n  /**\r\n   * 创建文本框父容器\r\n   * @param options\r\n   */\r\n  createTextContent (options) {\r\n    const _className = options.className || 'ol-plot-text-editor'\r\n    const content = document.createElement('textarea')\r\n    content.className = _className\r\n    content.style.width = options['width'] + 'px'\r\n    content.style.height = options['height'] + 'px'\r\n    content.style.minHeight = options['minHeight'] + 'px'\r\n    content.setAttribute('id', options['id'])\r\n    content.setAttribute('autofocus', true)\r\n    autosize(content)\r\n    on(content, 'focus', this.handleFocus_)\r\n    on(content, 'blur', this.handleBlur_)\r\n    on(content, 'click', this.handleClick_)\r\n    on(content, 'mousedown', this.handleDragStart_)\r\n    on(window, 'mouseup', this.handleDragEnd_)\r\n    this.set('isPlotText', true)\r\n    this.setElement(content)\r\n    this.createCloseButton(options)\r\n    this.createResizeButton(options)\r\n    this.setPosition(this._position)\r\n    this.dispatchEvent('textBoxDrawEnd', {\r\n      overlay: this,\r\n      element: content,\r\n      uuid: options['id']\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 获取文本框\r\n   * @returns {string}\r\n   * @private\r\n   */\r\n  getTextAreaFromContent_ () {\r\n    let _node = ''\r\n    const childrens_ = Array.prototype.slice.call((this.element && this.element.children), 0)\r\n    if (childrens_.length > 0) {\r\n      childrens_.every(ele => {\r\n        if (ele.nodeType === 1 && ele.nodeName.toLowerCase() === 'textarea') {\r\n          _node = ele\r\n          return false\r\n        } else {\r\n          return true\r\n        }\r\n      })\r\n    }\r\n    return _node\r\n  }\r\n\r\n  /**\r\n   * 创建关闭按钮\r\n   * @param options\r\n   */\r\n  createCloseButton (options) {\r\n    const _closeSpan = document.createElement('span')\r\n    _closeSpan.className = 'ol-plot-text-editor-close'\r\n    _closeSpan.setAttribute('data-id', options['id'])\r\n    off(_closeSpan, 'click', this.closeCurrentPlotText)\r\n    on(_closeSpan, 'click', this.closeCurrentPlotText)\r\n    this.element.appendChild(_closeSpan)\r\n  }\r\n\r\n  /**\r\n   * 创建文本框大小调整按钮\r\n   * @param options\r\n   */\r\n  createResizeButton (options) {\r\n    const _resizeSpan = document.createElement('span')\r\n    _resizeSpan.className = 'ol-plot-text-editor-resize'\r\n    _resizeSpan.setAttribute('data-id', options['id'])\r\n    off(_resizeSpan, 'mousedown', this.handleResizeMouseDown_)\r\n    off(_resizeSpan, 'mousemove', this.handleResizeMouseMove_)\r\n    on(_resizeSpan, 'mousedown', this.handleResizeMouseDown_)\r\n    on(_resizeSpan, 'mousemove', this.handleResizeMouseMove_)\r\n    this.element.appendChild(_resizeSpan)\r\n  }\r\n\r\n  /**\r\n   * 调整大小\r\n   * @param event\r\n   * @private\r\n   */\r\n  resizeButtonMoveHandler_ (event) {\r\n    const pixel_ = event.pixel\r\n    const element_ = this.getTextAreaFromContent_()\r\n    if (pixel_.length < 1 || this.currentPixel_.length < 1 || !element_) return\r\n    const _offset = [pixel_[0] - this.currentPixel_[0], pixel_[1] - this.currentPixel_[1]]\r\n    const _size = [element_.offsetWidth, element_.offsetHeight]\r\n    const _width = _size[0] + _offset[0] * 2\r\n    const _height = _size[1] + _offset[1] * 2\r\n    setStyle(element_, 'width', _width + 'px')\r\n    setStyle(element_, 'height', _height + 'px')\r\n    this.currentPixel_ = pixel_\r\n    this.getMap().render()\r\n  }\r\n\r\n  /**\r\n   * 处理移动事件\r\n   * @param event\r\n   * @private\r\n   */\r\n  handleResizeMouseMove_ (event) {\r\n    event.stopImmediatePropagation()\r\n  }\r\n\r\n  /**\r\n   * 处理鼠标按下事件\r\n   * @param event\r\n   * @private\r\n   */\r\n  handleResizeMouseDown_ (event) {\r\n    if (!this.getMap()) return\r\n    this.currentPixel_ = [event.x, event.y]\r\n    this.getMap().on('pointermove', this.resizeButtonMoveHandler_)\r\n    on(this.getMap().getViewport(), 'mouseup', this.handleResizeMouseUp_)\r\n  }\r\n\r\n  /**\r\n   * 处理鼠标抬起事件，移除所有事件监听\r\n   * @param event\r\n   * @private\r\n   */\r\n  handleResizeMouseUp_ (event) {\r\n    if (!this.getMap()) return\r\n    this.getMap().un('pointermove', this.resizeButtonMoveHandler_)\r\n    off(this.getMap().getViewport(), 'mouseup', this.handleResizeMouseUp_)\r\n    this.currentPixel_ = []\r\n  }\r\n\r\n  /**\r\n   * 处理关闭事件\r\n   * @param event\r\n   */\r\n  closeCurrentPlotText (event) {\r\n    if (!this.getMap()) return\r\n    if (event && hasClass(event.target, 'ol-plot-text-editor-close')) {\r\n      let _id = event.target.getAttribute('data-id')\r\n      if (_id) {\r\n        const _overlay = this.getMap().getOverlayById(_id)\r\n        if (_overlay) {\r\n          this.getMap().removeOverlay(_overlay)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 处理获取焦点事件\r\n   * @private\r\n   */\r\n  handleFocus_ () {\r\n    this.isFocus_ = true\r\n    if (this.getMap()) {\r\n      this.getMap().set('activeTextArea', this)\r\n      this.getMap().dispatchEvent('activeTextArea')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 处理失去焦点事件\r\n   * @private\r\n   */\r\n  handleBlur_ () {\r\n    this.isFocus_ = false\r\n    if (this.getMap()) {\r\n      this.getMap().set('activeTextArea', null)\r\n      this.getMap().set('disActiveTextArea', this)\r\n      this.getMap().dispatchEvent('disActiveTextArea')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 处理拖拽开始\r\n   * @private\r\n   */\r\n  handleDragStart_ (event) {\r\n    if (!this.getMap()) return\r\n    if (!this.dragging_ && this.isMoveModel() && this.isFocus_) {\r\n      this.handleTimer_ = window.setTimeout(() => {\r\n        window.clearTimeout(this.handleTimer_)\r\n        this.handleTimer_ = null\r\n        if (!this.isClick_) {\r\n          this.dragging_ = true\r\n          this.disableMapDragPan()\r\n          this.preCursor_ = this.element.style.cursor\r\n          on(this.getMap().getViewport(), 'mousemove', this.handleDragDrag_)\r\n          on(this.element, 'mouseup', this.handleDragEnd_)\r\n        }\r\n      }, 300)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 处理拖拽\r\n   * @param event\r\n   * @private\r\n   */\r\n  handleDragDrag_ (event) {\r\n    if (this.dragging_) {\r\n      this.element.style.cursor = 'move'\r\n      this._position = this.getMap().getCoordinateFromPixel([event.clientX, event.clientY])\r\n      this.setPosition(this._position)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 处理拖拽\r\n   * @private\r\n   */\r\n  handleDragEnd_ (event) {\r\n    this.isClick_ = false\r\n    window.clearTimeout(this.handleTimer_)\r\n    this.handleTimer_ = null\r\n    if (this.dragging_ && this.isFocus_) {\r\n      this.dragging_ = false\r\n      this.enableMapDragPan()\r\n      this.element.style.cursor = this.preCursor_\r\n      off(this.getMap().getViewport(), 'mousemove', this.handleDragDrag_)\r\n      off(this.element, 'mouseup', this.handleDragEnd_)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 处理点击事件\r\n   * @param event\r\n   * @private\r\n   */\r\n  handleClick_ (event) {\r\n    if (event.target === this.element) {\r\n      this.isClick_ = true\r\n    } else {\r\n      this.isClick_ = false\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 是否处于选择模式\r\n   * @returns {boolean}\r\n   */\r\n  isMoveModel () {\r\n    const range = window.getSelection().getRangeAt(0)\r\n    return range.collapsed\r\n  }\r\n\r\n  /**\r\n   * 设置样式\r\n   * @param style\r\n   */\r\n  setStyle (style = {}) {\r\n    const _element = this.getTextAreaFromContent_()\r\n    if (_element) {\r\n      for (let key in style) {\r\n        if (style[key]) {\r\n          setStyle(_element, key, style[key])\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前样式\r\n   * @returns {CSSStyleDeclaration}\r\n   */\r\n  getStyle () {\r\n    const _style = {}\r\n    const _element = this.getTextAreaFromContent_()\r\n    if (_element) {\r\n      for (let key in DEF_TEXT_STYEL) {\r\n        _style[key] = getStyle(_element, key)\r\n      }\r\n    }\r\n    return _style\r\n  }\r\n\r\n  /**\r\n   * set value\r\n   * @param value\r\n   */\r\n  setValue (value) {\r\n    const _element = this.getTextAreaFromContent_()\r\n    if (_element) {\r\n      _element.value = value\r\n      if (value) {\r\n        autosize.update(_element)\r\n      }\r\n      this.getMap().render()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * get value\r\n   * @returns {*}\r\n   */\r\n  getValue () {\r\n    const _element = this.getTextAreaFromContent_()\r\n    if (_element) {\r\n      return _element.value\r\n    } else {\r\n      return ''\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取宽度\r\n   * @returns {number}\r\n   */\r\n  getWidth () {\r\n    const element_ = this.getTextAreaFromContent_()\r\n    if (element_ && element_.offsetWidth) {\r\n      return element_.offsetWidth\r\n    } else {\r\n      return 0\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取高度\r\n   * @returns {number}\r\n   */\r\n  getHeight () {\r\n    const element_ = this.getTextAreaFromContent_()\r\n    if (element_ && element_.offsetHeight) {\r\n      return element_.offsetHeight\r\n    } else {\r\n      return 0\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 激活地图的拖拽平移\r\n   */\r\n  enableMapDragPan () {\r\n    const _map = this.getMap()\r\n    if (!_map) return\r\n    if (this.mapDragPan && this.mapDragPan instanceof $DragPan) {\r\n      _map.addInteraction(this.mapDragPan)\r\n      delete this.mapDragPan\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 禁止地图的拖拽平移\r\n   */\r\n  disableMapDragPan () {\r\n    const _map = this.getMap()\r\n    if (!_map) return\r\n    let interactions = _map.getInteractions().getArray()\r\n    interactions.every(item => {\r\n      if (item instanceof $DragPan) {\r\n        this.mapDragPan = item\r\n        _map.removeInteraction(item)\r\n        return false\r\n      } else {\r\n        return true\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * set map\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    super.setMap(map)\r\n    if (map && map instanceof Map) {\r\n      this.setStyle(merge(DEF_TEXT_STYEL, this.options_['style']))\r\n      this.setValue(this.options_['value'])\r\n    }\r\n  }\r\n}\r\n\r\nexport default PlotTextBox\r\n","/**\r\n * Created by FDD on 2017/5/20.\r\n */\r\nconst TEXTAREA = 'TextArea' // 文本标绘（特殊）\r\nconst ARC = 'Arc'\r\nconst CURVE = 'Curve'\r\nconst GATHERING_PLACE = 'GatheringPlace'\r\nconst POLYLINE = 'Polyline'\r\nconst FREEHANDLINE = 'FreeHandLine'\r\nconst POINT = 'Point'\r\nconst PENNANT = 'Pennant'\r\nconst RECTANGLE = 'RectAngle'\r\nconst CIRCLE = 'Circle'\r\nconst ELLIPSE = 'Ellipse'\r\nconst LUNE = 'Lune'\r\nconst SECTOR = 'Sector'\r\nconst CLOSED_CURVE = 'ClosedCurve'\r\nconst POLYGON = 'Polygon'\r\nconst FREE_POLYGON = 'FreePolygon'\r\nconst ATTACK_ARROW = 'AttackArrow'\r\nconst DOUBLE_ARROW = 'DoubleArrow'\r\nconst STRAIGHT_ARROW = 'StraightArrow'\r\nconst FINE_ARROW = 'FineArrow'\r\nconst ASSAULT_DIRECTION = 'AssaultDirection'\r\nconst TAILED_ATTACK_ARROW = 'TailedAttackArrow'\r\nconst SQUAD_COMBAT = 'SquadCombat'\r\nconst TAILED_SQUAD_COMBAT = 'TailedSquadCombat'\r\nconst RECTFLAG = 'RectFlag'\r\nconst TRIANGLEFLAG = 'TriangleFlag'\r\nconst CURVEFLAG = 'CurveFlag'\r\nexport {\r\n  TEXTAREA,\r\n  ARC,\r\n  CURVE,\r\n  GATHERING_PLACE,\r\n  POLYLINE,\r\n  FREEHANDLINE,\r\n  POINT,\r\n  PENNANT,\r\n  RECTANGLE,\r\n  CIRCLE,\r\n  ELLIPSE,\r\n  LUNE,\r\n  SECTOR,\r\n  CLOSED_CURVE,\r\n  POLYGON,\r\n  FREE_POLYGON,\r\n  ATTACK_ARROW,\r\n  DOUBLE_ARROW,\r\n  STRAIGHT_ARROW,\r\n  FINE_ARROW,\r\n  ASSAULT_DIRECTION,\r\n  TAILED_SQUAD_COMBAT,\r\n  TAILED_ATTACK_ARROW,\r\n  SQUAD_COMBAT,\r\n  RECTFLAG,\r\n  TRIANGLEFLAG,\r\n  CURVEFLAG\r\n}\r\n","/**\r\n * Created by FDD on 2017/5/15.\r\n * @desc 点要素\r\n */\r\nimport { Map } from 'ol'\r\nimport { Point as $Point } from 'ol/geom'\r\nimport { POINT } from '../../Utils/PlotTypes'\r\nclass Point extends $Point {\r\n  constructor (coordinates, point, params) {\r\n    super([])\r\n    this.type = POINT\r\n    this.options = params || {}\r\n    this.set('params', this.options)\r\n    this.fixPointCount = 1\r\n    if (point && point.length > 0) {\r\n      this.setPoints(point)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  generate () {\r\n    let pnt = this.points[0]\r\n    this.setCoordinates(pnt)\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {{}|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default Point\r\n","/**\r\n * Created by FDD on 2017/5/15.\r\n * @desc 点要素\r\n */\r\nimport { Map } from 'ol'\r\nimport { Point } from 'ol/geom'\r\nimport { PENNANT } from '../../Utils/PlotTypes'\r\nclass Pennant extends Point {\r\n  constructor (coordinates, point, params) {\r\n    super([])\r\n    this.type = PENNANT\r\n    this.options = params || {}\r\n    this.set('params', this.options)\r\n    if (point && point.length > 0) {\r\n      this.setPoints(point)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  generate () {\r\n    this.setCoordinates(this.points)\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {{}|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default Pennant\r\n","import { Map } from 'ol'\r\nimport { LineString } from 'ol/geom'\r\n\r\nimport { POLYLINE } from '../../Utils/PlotTypes'\r\nclass Polyline extends LineString {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = POLYLINE\r\n    this.freehand = false\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    this.setCoordinates(this.points)\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {ol.Map|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default Polyline\r\n","/**\r\n * Created by FDD on 2017/5/22.\r\n * @desc 标绘画弓形算法，继承线要素相关方法和属性\r\n */\r\nimport { Map } from 'ol'\r\nimport { LineString } from 'ol/geom'\r\nimport { ARC } from '../../Utils/PlotTypes'\r\nimport * as PlotUtils from '../../Utils/utils'\r\nclass Arc extends LineString {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = ARC\r\n    this.fixPointCount = 3\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    let count = this.getPointCount()\r\n    if (count < 2) return\r\n    if (count === 2) {\r\n      this.setCoordinates(this.points)\r\n    } else {\r\n      let [pnt1, pnt2, pnt3, startAngle, endAngle] = [this.points[0], this.points[1], this.points[2], null, null]\r\n      let center = PlotUtils.getCircleCenterOfThreePoints(pnt1, pnt2, pnt3)\r\n      let radius = PlotUtils.MathDistance(pnt1, center)\r\n      let angle1 = PlotUtils.getAzimuth(pnt1, center)\r\n      let angle2 = PlotUtils.getAzimuth(pnt2, center)\r\n      if (PlotUtils.isClockWise(pnt1, pnt2, pnt3)) {\r\n        startAngle = angle2\r\n        endAngle = angle1\r\n      } else {\r\n        startAngle = angle1\r\n        endAngle = angle2\r\n      }\r\n      this.setCoordinates(PlotUtils.getArcPoints(center, radius, startAngle, endAngle))\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {ol.Map|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default Arc\r\n","/**\r\n * Created by FDD on 2017/5/22.\r\n * @desc 标绘画圆算法，继承面要素相关方法和属性\r\n */\r\nimport { Map } from 'ol'\r\nimport { Polygon } from 'ol/geom'\r\nimport { CIRCLE } from '../../Utils/PlotTypes'\r\nimport * as PlotUtils from '../../Utils/utils'\r\nclass Circle extends Polygon {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = CIRCLE\r\n    this.fixPointCount = 2\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  generate () {\r\n    let count = this.getPointCount()\r\n    if (count < 2) {\r\n      return false\r\n    } else {\r\n      let center = this.points[0]\r\n      let radius = PlotUtils.MathDistance(center, this.points[1])\r\n      this.setCoordinates([this.generatePoints(center, radius)])\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 对圆边线进行插值\r\n   * @param center\r\n   * @param radius\r\n   * @returns {null}\r\n   */\r\n  generatePoints (center, radius) {\r\n    let [x, y, angle, points] = [null, null, null, []]\r\n    for (let i = 0; i <= 100; i++) {\r\n      angle = Math.PI * 2 * i / 100\r\n      x = center[0] + radius * Math.cos(angle)\r\n      y = center[1] + radius * Math.sin(angle)\r\n      points.push([x, y])\r\n    }\r\n    return points\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {{}|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default Circle\r\n","/**\r\n * Created by FDD on 2017/5/22.\r\n * @desc 标绘曲线算法\r\n */\r\nimport { Map } from 'ol'\r\nimport { LineString } from 'ol/geom'\r\nimport { CURVE } from '../../Utils/PlotTypes'\r\nimport * as PlotUtils from '../../Utils/utils'\r\nclass Curve extends LineString {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = CURVE\r\n    this.t = 0.3\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    let count = this.getPointCount()\r\n    if (count < 2) {\r\n      return false\r\n    } else if (count === 2) {\r\n      this.setCoordinates(this.points)\r\n    } else {\r\n      let points = PlotUtils.getCurvePoints(this.t, this.points)\r\n      this.setCoordinates(points)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {ol.Map|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default Curve\r\n","/**\r\n * Created by FDD on 2017/5/24.\r\n * @desc 自由线\r\n * @Inherits ol.geom.LineString\r\n */\r\nimport { Map } from 'ol'\r\nimport { LineString } from 'ol/geom'\r\nimport { FREEHANDLINE } from '../../Utils/PlotTypes'\r\nclass FreeHandLine extends LineString {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = FREEHANDLINE\r\n    this.freehand = true\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    this.setCoordinates(this.points)\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {ol.Map|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default FreeHandLine\r\n","/**\r\n * Created by FDD on 2017/5/24.\r\n * @desc 规则矩形\r\n * @Inherits ol.geom.Polygon\r\n */\r\nimport { Map } from 'ol'\r\nimport { Polygon as $Polygon } from 'ol/geom'\r\nimport { fromExtent } from 'ol/geom/Polygon'\r\nimport { boundingExtent } from 'ol/extent.js'\r\nimport { RECTANGLE } from '../../Utils/PlotTypes'\r\nclass RectAngle extends $Polygon {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = RECTANGLE\r\n    this.fixPointCount = 2\r\n    this.set('params', params)\r\n    this.isFill = ((params['isFill'] === false) ? params['isFill'] : true)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    if (this.points.length === 2) {\r\n      let coordinates = []\r\n      if (this.isFill) {\r\n        let extent = boundingExtent(this.points)\r\n        let polygon = fromExtent(extent)\r\n        coordinates = polygon.getCoordinates()\r\n      } else {\r\n        let start = this.points[0]\r\n        let end = this.points[1]\r\n        coordinates = [start, [start[0], end[1]], end, [end[0], start[1]], start]\r\n      }\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {Map|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default RectAngle\r\n","/**\r\n * Created by FDD on 2017/5/22.\r\n * @desc 标绘画圆算法，继承面要素相关方法和属性\r\n */\r\nimport { Map } from 'ol'\r\nimport { Polygon } from 'ol/geom'\r\n\r\nimport { ELLIPSE } from '../../Utils/PlotTypes'\r\nimport * as Constants from '../../Constants'\r\nimport * as PlotUtils from '../../Utils/utils'\r\nclass Ellipse extends Polygon {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = ELLIPSE\r\n    this.fixPointCount = 2\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  generate () {\r\n    if (this.getPointCount() < 2) {\r\n      return false\r\n    } else {\r\n      let [pnt1, pnt2] = [this.points[0], this.points[1]]\r\n      let center = PlotUtils.Mid(pnt1, pnt2)\r\n      let majorRadius = Math.abs((pnt1[0] - pnt2[0]) / 2)\r\n      let minorRadius = Math.abs((pnt1[1] - pnt2[1]) / 2)\r\n      let res = this.generatePoints(center, majorRadius, minorRadius)\r\n      this.setCoordinates([res])\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 对圆边线进行插值\r\n   * @param center\r\n   * @param majorRadius\r\n   * @param minorRadius\r\n   * @returns {*}\r\n   */\r\n  generatePoints (center, majorRadius, minorRadius) {\r\n    let [x, y, angle, points] = [null, null, null, []]\r\n    for (let i = 0; i <= Constants.FITTING_COUNT; i++) {\r\n      angle = Math.PI * 2 * i / Constants.FITTING_COUNT\r\n      x = center[0] + majorRadius * Math.cos(angle)\r\n      y = center[1] + minorRadius * Math.sin(angle)\r\n      points.push([x, y])\r\n    }\r\n    return points\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {{}|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default Ellipse\r\n","/**\r\n * Created by FDD on 2017/5/24.\r\n * @desc 弓形\r\n * @Inherits ol.geom.Polygon\r\n */\r\nimport { Map } from 'ol'\r\nimport { Polygon } from 'ol/geom'\r\nimport { LUNE } from '../../Utils/PlotTypes'\r\nimport * as Constants from '../../Constants'\r\nimport * as PlotUtils from '../../Utils/utils'\r\nclass Lune extends Polygon {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = LUNE\r\n    this.fixPointCount = 3\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    if (this.getPointCount() < 2) {\r\n      return false\r\n    } else {\r\n      let pnts = this.getPoints()\r\n      if (this.getPointCount() === 2) {\r\n        let mid = PlotUtils.Mid(pnts[0], pnts[1])\r\n        let d = PlotUtils.MathDistance(pnts[0], mid)\r\n        let pnt = PlotUtils.getThirdPoint(pnts[0], mid, Constants.HALF_PI, d)\r\n        pnts.push(pnt)\r\n      }\r\n      let [pnt1, pnt2, pnt3, startAngle, endAngle] = [pnts[0], pnts[1], pnts[2], undefined, undefined]\r\n      let center = PlotUtils.getCircleCenterOfThreePoints(pnt1, pnt2, pnt3)\r\n      let radius = PlotUtils.MathDistance(pnt1, center)\r\n      let angle1 = PlotUtils.getAzimuth(pnt1, center)\r\n      let angle2 = PlotUtils.getAzimuth(pnt2, center)\r\n      if (PlotUtils.isClockWise(pnt1, pnt2, pnt3)) {\r\n        startAngle = angle2\r\n        endAngle = angle1\r\n      } else {\r\n        startAngle = angle1\r\n        endAngle = angle2\r\n      }\r\n      pnts = PlotUtils.getArcPoints(center, radius, startAngle, endAngle)\r\n      pnts.push(pnts[0])\r\n      this.setCoordinates([pnts])\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {Map|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default Lune\r\n","/**\r\n * Created by FDD on 2017/5/25.\r\n * @desc 扇形\r\n * @Inherits ol.geom.Polygon\r\n */\r\nimport { Map } from 'ol'\r\nimport { Polygon as $Polygon } from 'ol/geom'\r\nimport { SECTOR } from '../../Utils/PlotTypes'\r\nimport * as PlotUtils from '../../Utils/utils'\r\nclass Sector extends $Polygon {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = SECTOR\r\n    this.fixPointCount = 3\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    let points = this.getPointCount()\r\n    if (points < 2) {\r\n      return false\r\n    } else if (points === 2) {\r\n      this.setCoordinates([this.points])\r\n    } else {\r\n      let pnts = this.getPoints()\r\n      let [center, pnt2, pnt3] = [pnts[0], pnts[1], pnts[2]]\r\n      let radius = PlotUtils.MathDistance(pnt2, center)\r\n      let startAngle = PlotUtils.getAzimuth(pnt2, center)\r\n      let endAngle = PlotUtils.getAzimuth(pnt3, center)\r\n      let pList = PlotUtils.getArcPoints(center, radius, startAngle, endAngle)\r\n      pList.push(center, pList[0])\r\n      this.setCoordinates([pList])\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {ol.Map|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default Sector\r\n","/**\r\n * Created by FDD on 2017/5/25.\r\n * @desc 闭合曲面\r\n * @Inherits ol.geom.Polygon\r\n */\r\nimport { Map } from 'ol'\r\nimport { Polygon } from 'ol/geom'\r\nimport { CLOSED_CURVE } from '../../Utils/PlotTypes'\r\nimport * as PlotUtils from '../../Utils/utils'\r\nimport * as Constants from '../../Constants'\r\nclass ClosedCurve extends Polygon {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = CLOSED_CURVE\r\n    this.t = 0.3\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    let points = this.getPointCount()\r\n    if (points < 2) {\r\n      return false\r\n    } else if (points === 2) {\r\n      this.setCoordinates([this.points])\r\n    } else {\r\n      let pnts = this.getPoints()\r\n      pnts.push(pnts[0], pnts[1])\r\n      let [normals, pList] = [[], []]\r\n      for (let i = 0; i < pnts.length - 2; i++) {\r\n        let normalPoints = PlotUtils.getBisectorNormals(this.t, pnts[i], pnts[i + 1], pnts[i + 2])\r\n        normals = normals.concat(normalPoints)\r\n      }\r\n      let count = normals.length\r\n      normals = [normals[count - 1]].concat(normals.slice(0, count - 1))\r\n      for (let i = 0; i < pnts.length - 2; i++) {\r\n        let pnt1 = pnts[i]\r\n        let pnt2 = pnts[i + 1]\r\n        pList.push(pnt1)\r\n        for (let t = 0; t <= Constants.FITTING_COUNT; t++) {\r\n          let pnt = PlotUtils.getCubicValue(t / Constants.FITTING_COUNT, pnt1, normals[i * 2], normals[i * 2 + 1], pnt2)\r\n          pList.push(pnt)\r\n        }\r\n        pList.push(pnt2)\r\n      }\r\n      this.setCoordinates([pList])\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {Map|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default ClosedCurve\r\n","/**\r\n * Created by FDD on 2017/5/24.\r\n * @desc 多边形\r\n * @Inherits ol.geom.Polygon\r\n */\r\nimport { Map } from 'ol'\r\nimport { Polygon as $Polygon } from 'ol/geom'\r\nimport { POLYGON } from '../../Utils/PlotTypes'\r\nclass Polygon extends $Polygon {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = POLYGON\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    let count = this.getPointCount()\r\n    if (count < 2) {\r\n      return false\r\n    } else {\r\n      this.setCoordinates([this.points])\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {Map|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default Polygon\r\n","/**\r\n * Created by FDD on 2017/5/24.\r\n * @desc 自由面\r\n * @Inherits ol.geom.Polygon\r\n */\r\nimport { Map } from 'ol'\r\nimport { Polygon } from 'ol/geom'\r\nimport { FREE_POLYGON } from '../../Utils/PlotTypes'\r\nclass FreePolygon extends Polygon {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = FREE_POLYGON\r\n    this.freehand = true\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    this.setCoordinates([this.points])\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {Map|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default FreePolygon\r\n","/**\r\n * Created by FDD on 2017/5/24.\r\n * @desc 进攻方向\r\n * @Inherits ol.geom.Polygon\r\n */\r\nimport { Map } from 'ol'\r\nimport { Polygon } from 'ol/geom'\r\nimport { ATTACK_ARROW } from '../../Utils/PlotTypes'\r\nimport * as PlotUtils from '../../Utils/utils'\r\nimport * as Constants from '../../Constants'\r\nclass AttackArrow extends Polygon {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = ATTACK_ARROW\r\n    this.headHeightFactor = 0.18\r\n    this.headWidthFactor = 0.3\r\n    this.neckHeightFactor = 0.85\r\n    this.neckWidthFactor = 0.15\r\n    this.headTailFactor = 0.8\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    try {\r\n      let points = this.getPointCount()\r\n      if (points < 2) {\r\n        return false\r\n      } else if (points === 2) {\r\n        this.setCoordinates([this.points])\r\n      } else {\r\n        let pnts = this.getPoints()\r\n        let [tailLeft, tailRight] = [pnts[0], pnts[1]]\r\n        if (PlotUtils.isClockWise(pnts[0], pnts[1], pnts[2])) {\r\n          tailLeft = pnts[1]\r\n          tailRight = pnts[0]\r\n        }\r\n        let midTail = PlotUtils.Mid(tailLeft, tailRight)\r\n        let bonePnts = [midTail].concat(pnts.slice(2))\r\n        let headPnts = this.getArrowHeadPoints(bonePnts, tailLeft, tailRight)\r\n        let [neckLeft, neckRight] = [headPnts[0], headPnts[4]]\r\n        let tailWidthFactor = PlotUtils.MathDistance(tailLeft, tailRight) / PlotUtils.getBaseLength(bonePnts)\r\n        let bodyPnts = this.getArrowBodyPoints(bonePnts, neckLeft, neckRight, tailWidthFactor)\r\n        let count = bodyPnts.length\r\n        let leftPnts = [tailLeft].concat(bodyPnts.slice(0, count / 2))\r\n        leftPnts.push(neckLeft)\r\n        let rightPnts = [tailRight].concat(bodyPnts.slice(count / 2, count))\r\n        rightPnts.push(neckRight)\r\n        leftPnts = PlotUtils.getQBSplinePoints(leftPnts)\r\n        rightPnts = PlotUtils.getQBSplinePoints(rightPnts)\r\n        this.setCoordinates([leftPnts.concat(headPnts, rightPnts.reverse())])\r\n      }\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 插值箭形上的点\r\n   * @param pnt1\r\n   * @param pnt2\r\n   * @param pnt3\r\n   * @param clockWise\r\n   * @returns {Array.<T>}\r\n   */\r\n  getArrowPoints (pnt1, pnt2, pnt3, clockWise) {\r\n    let midPnt = PlotUtils.Mid(pnt1, pnt2)\r\n    let len = PlotUtils.MathDistance(midPnt, pnt3)\r\n    let midPnt1 = PlotUtils.getThirdPoint(pnt3, midPnt, 0, len * 0.3, true)\r\n    let midPnt2 = PlotUtils.getThirdPoint(pnt3, midPnt, 0, len * 0.5, true)\r\n    midPnt1 = PlotUtils.getThirdPoint(midPnt, midPnt1, Constants.HALF_PI, len / 5, clockWise)\r\n    midPnt2 = PlotUtils.getThirdPoint(midPnt, midPnt2, Constants.HALF_PI, len / 4, clockWise)\r\n    let points = [midPnt, midPnt1, midPnt2, pnt3]\r\n    let arrowPnts = this.getArrowHeadPoints(points)\r\n    if (arrowPnts && Array.isArray(arrowPnts) && arrowPnts.length > 0) {\r\n      let [neckLeftPoint, neckRightPoint] = [arrowPnts[0], arrowPnts[4]]\r\n      let tailWidthFactor = PlotUtils.MathDistance(pnt1, pnt2) / PlotUtils.getBaseLength(points) / 2\r\n      let bodyPnts = this.getArrowBodyPoints(points, neckLeftPoint, neckRightPoint, tailWidthFactor)\r\n      if (bodyPnts) {\r\n        let n = bodyPnts.length\r\n        let lPoints = bodyPnts.slice(0, n / 2)\r\n        let rPoints = bodyPnts.slice(n / 2, n)\r\n        lPoints.push(neckLeftPoint)\r\n        rPoints.push(neckRightPoint)\r\n        lPoints = lPoints.reverse()\r\n        lPoints.push(pnt2)\r\n        rPoints = rPoints.reverse()\r\n        rPoints.push(pnt1)\r\n        return (lPoints.reverse().concat(arrowPnts, rPoints))\r\n      }\r\n    } else {\r\n      throw new Error('插值出错')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 插值头部点\r\n   * @param points\r\n   * @returns {[*,*,*,*,*]}\r\n   */\r\n  getArrowHeadPoints (points, tailLeft, tailRight) {\r\n    try {\r\n      let len = PlotUtils.getBaseLength(points)\r\n      let headHeight = len * this.headHeightFactor\r\n      let headPnt = points[points.length - 1]\r\n      len = PlotUtils.MathDistance(headPnt, points[points.length - 2])\r\n      let tailWidth = PlotUtils.MathDistance(tailLeft, tailRight)\r\n      if (headHeight > tailWidth * this.headTailFactor) {\r\n        headHeight = tailWidth * this.headTailFactor\r\n      }\r\n      let headWidth = headHeight * this.headWidthFactor\r\n      let neckWidth = headHeight * this.neckWidthFactor\r\n      headHeight = headHeight > len ? len : headHeight\r\n      let neckHeight = headHeight * this.neckHeightFactor\r\n      let headEndPnt = PlotUtils.getThirdPoint(points[points.length - 2], headPnt, 0, headHeight, true)\r\n      let neckEndPnt = PlotUtils.getThirdPoint(points[points.length - 2], headPnt, 0, neckHeight, true)\r\n      let headLeft = PlotUtils.getThirdPoint(headPnt, headEndPnt, Constants.HALF_PI, headWidth, false)\r\n      let headRight = PlotUtils.getThirdPoint(headPnt, headEndPnt, Constants.HALF_PI, headWidth, true)\r\n      let neckLeft = PlotUtils.getThirdPoint(headPnt, neckEndPnt, Constants.HALF_PI, neckWidth, false)\r\n      let neckRight = PlotUtils.getThirdPoint(headPnt, neckEndPnt, Constants.HALF_PI, neckWidth, true)\r\n      return [neckLeft, headLeft, headPnt, headRight, neckRight]\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 插值面部分数据\r\n   * @param points\r\n   * @param neckLeft\r\n   * @param neckRight\r\n   * @param tailWidthFactor\r\n   * @returns {Array.<*>}\r\n   */\r\n  getArrowBodyPoints (points, neckLeft, neckRight, tailWidthFactor) {\r\n    let allLen = PlotUtils.wholeDistance(points)\r\n    let len = PlotUtils.getBaseLength(points)\r\n    let tailWidth = len * tailWidthFactor\r\n    let neckWidth = PlotUtils.MathDistance(neckLeft, neckRight)\r\n    let widthDif = (tailWidth - neckWidth) / 2\r\n    let [tempLen, leftBodyPnts, rightBodyPnts] = [0, [], []]\r\n    for (let i = 1; i < points.length - 1; i++) {\r\n      let angle = PlotUtils.getAngleOfThreePoints(points[i - 1], points[i], points[i + 1]) / 2\r\n      tempLen += PlotUtils.MathDistance(points[i - 1], points[i])\r\n      let w = (tailWidth / 2 - tempLen / allLen * widthDif) / Math.sin(angle)\r\n      let left = PlotUtils.getThirdPoint(points[i - 1], points[i], Math.PI - angle, w, true)\r\n      let right = PlotUtils.getThirdPoint(points[i - 1], points[i], angle, w, false)\r\n      leftBodyPnts.push(left)\r\n      rightBodyPnts.push(right)\r\n    }\r\n    return leftBodyPnts.concat(rightBodyPnts)\r\n  }\r\n\r\n  /**\r\n   * 获取对称点\r\n   * @param linePnt1\r\n   * @param linePnt2\r\n   * @param point\r\n   * @returns {*}\r\n   */\r\n  getTempPoint4 (linePnt1, linePnt2, point) {\r\n    try {\r\n      let midPnt = PlotUtils.Mid(linePnt1, linePnt2)\r\n      let len = PlotUtils.MathDistance(midPnt, point)\r\n      let angle = PlotUtils.getAngleOfThreePoints(linePnt1, midPnt, point)\r\n      let [symPnt, distance1, distance2, mid] = [undefined, undefined, undefined, undefined]\r\n      if (angle < Constants.HALF_PI) {\r\n        distance1 = len * Math.sin(angle)\r\n        distance2 = len * Math.cos(angle)\r\n        mid = PlotUtils.getThirdPoint(linePnt1, midPnt, Constants.HALF_PI, distance1, false)\r\n        symPnt = PlotUtils.getThirdPoint(midPnt, mid, Constants.HALF_PI, distance2, true)\r\n      } else if (angle >= Constants.HALF_PI && angle < Math.PI) {\r\n        distance1 = len * Math.sin(Math.PI - angle)\r\n        distance2 = len * Math.cos(Math.PI - angle)\r\n        mid = PlotUtils.getThirdPoint(linePnt1, midPnt, Constants.HALF_PI, distance1, false)\r\n        symPnt = PlotUtils.getThirdPoint(midPnt, mid, Constants.HALF_PI, distance2, false)\r\n      } else if (angle >= Math.PI && angle < Math.PI * 1.5) {\r\n        distance1 = len * Math.sin(angle - Math.PI)\r\n        distance2 = len * Math.cos(angle - Math.PI)\r\n        mid = PlotUtils.getThirdPoint(linePnt1, midPnt, Constants.HALF_PI, distance1, true)\r\n        symPnt = PlotUtils.getThirdPoint(midPnt, mid, Constants.HALF_PI, distance2, true)\r\n      } else {\r\n        distance1 = len * Math.sin(Math.PI * 2 - angle)\r\n        distance2 = len * Math.cos(Math.PI * 2 - angle)\r\n        mid = PlotUtils.getThirdPoint(linePnt1, midPnt, Constants.HALF_PI, distance1, true)\r\n        symPnt = PlotUtils.getThirdPoint(midPnt, mid, Constants.HALF_PI, distance2, false)\r\n      }\r\n      return symPnt\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {ol.Map|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default AttackArrow\r\n","/**\r\n * Created by FDD on 2017/5/24.\r\n * @desc 双箭头\r\n * @Inherits ol.geom.Polygon\r\n */\r\nimport { Map } from 'ol'\r\nimport { Polygon } from 'ol/geom'\r\nimport { DOUBLE_ARROW } from '../../Utils/PlotTypes'\r\nimport * as Constants from '../../Constants'\r\nimport * as PlotUtils from '../../Utils/utils'\r\nclass DoubleArrow extends Polygon {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = DOUBLE_ARROW\r\n    this.headHeightFactor = 0.25\r\n    this.headWidthFactor = 0.3\r\n    this.neckHeightFactor = 0.85\r\n    this.neckWidthFactor = 0.15\r\n    this.connPoint = null\r\n    this.tempPoint4 = null\r\n    this.fixPointCount = 4\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    try {\r\n      let count = this.getPointCount()\r\n      if (count < 2) {\r\n        return false\r\n      } else if (count === 2) {\r\n        this.setCoordinates([this.points])\r\n        return false\r\n      }\r\n      if (count > 2) {\r\n        let [pnt1, pnt2, pnt3] = [this.points[0], this.points[1], this.points[2]]\r\n        if (count === 3) {\r\n          this.tempPoint4 = this.getTempPoint4(pnt1, pnt2, pnt3)\r\n          this.connPoint = PlotUtils.Mid(pnt1, pnt2)\r\n        } else if (count === 4) {\r\n          this.tempPoint4 = this.points[3]\r\n          this.connPoint = PlotUtils.Mid(pnt1, pnt2)\r\n        } else {\r\n          this.tempPoint4 = this.points[3]\r\n          this.connPoint = this.points[4]\r\n        }\r\n        let [leftArrowPnts, rightArrowPnts] = [undefined, undefined]\r\n        if (PlotUtils.isClockWise(pnt1, pnt2, pnt3)) {\r\n          leftArrowPnts = this.getArrowPoints(pnt1, this.connPoint, this.tempPoint4, false)\r\n          rightArrowPnts = this.getArrowPoints(this.connPoint, pnt2, pnt3, true)\r\n        } else {\r\n          leftArrowPnts = this.getArrowPoints(pnt2, this.connPoint, pnt3, false)\r\n          rightArrowPnts = this.getArrowPoints(this.connPoint, pnt1, this.tempPoint4, true)\r\n        }\r\n        let m = leftArrowPnts.length\r\n        let t = (m - 5) / 2\r\n        let llBodyPnts = leftArrowPnts.slice(0, t)\r\n        let lArrowPnts = leftArrowPnts.slice(t, t + 5)\r\n        let lrBodyPnts = leftArrowPnts.slice(t + 5, m)\r\n        let rlBodyPnts = rightArrowPnts.slice(0, t)\r\n        let rArrowPnts = rightArrowPnts.slice(t, t + 5)\r\n        let rrBodyPnts = rightArrowPnts.slice(t + 5, m)\r\n        rlBodyPnts = PlotUtils.getBezierPoints(rlBodyPnts)\r\n        let bodyPnts = PlotUtils.getBezierPoints(rrBodyPnts.concat(llBodyPnts.slice(1)))\r\n        lrBodyPnts = PlotUtils.getBezierPoints(lrBodyPnts)\r\n        let pnts = rlBodyPnts.concat(rArrowPnts, bodyPnts, lArrowPnts, lrBodyPnts)\r\n        this.setCoordinates([pnts])\r\n      }\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 插值箭形上的点\r\n   * @param pnt1\r\n   * @param pnt2\r\n   * @param pnt3\r\n   * @param clockWise\r\n   * @returns {Array.<T>}\r\n   */\r\n  getArrowPoints (pnt1, pnt2, pnt3, clockWise) {\r\n    let midPnt = PlotUtils.Mid(pnt1, pnt2)\r\n    let len = PlotUtils.MathDistance(midPnt, pnt3)\r\n    let midPnt1 = PlotUtils.getThirdPoint(pnt3, midPnt, 0, len * 0.3, true)\r\n    let midPnt2 = PlotUtils.getThirdPoint(pnt3, midPnt, 0, len * 0.5, true)\r\n    midPnt1 = PlotUtils.getThirdPoint(midPnt, midPnt1, Constants.HALF_PI, len / 5, clockWise)\r\n    midPnt2 = PlotUtils.getThirdPoint(midPnt, midPnt2, Constants.HALF_PI, len / 4, clockWise)\r\n    let points = [midPnt, midPnt1, midPnt2, pnt3]\r\n    let arrowPnts = this.getArrowHeadPoints(points)\r\n    if (arrowPnts && Array.isArray(arrowPnts) && arrowPnts.length > 0) {\r\n      let [neckLeftPoint, neckRightPoint] = [arrowPnts[0], arrowPnts[4]]\r\n      let tailWidthFactor = PlotUtils.MathDistance(pnt1, pnt2) / PlotUtils.getBaseLength(points) / 2\r\n      let bodyPnts = this.getArrowBodyPoints(points, neckLeftPoint, neckRightPoint, tailWidthFactor)\r\n      if (bodyPnts) {\r\n        let n = bodyPnts.length\r\n        let lPoints = bodyPnts.slice(0, n / 2)\r\n        let rPoints = bodyPnts.slice(n / 2, n)\r\n        lPoints.push(neckLeftPoint)\r\n        rPoints.push(neckRightPoint)\r\n        lPoints = lPoints.reverse()\r\n        lPoints.push(pnt2)\r\n        rPoints = rPoints.reverse()\r\n        rPoints.push(pnt1)\r\n        return (lPoints.reverse().concat(arrowPnts, rPoints))\r\n      }\r\n    } else {\r\n      throw new Error('插值出错')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 插值头部点\r\n   * @param points\r\n   * @returns {[*,*,*,*,*]}\r\n   */\r\n  getArrowHeadPoints (points) {\r\n    try {\r\n      let len = PlotUtils.getBaseLength(points)\r\n      let headHeight = len * this.headHeightFactor\r\n      let headPnt = points[points.length - 1]\r\n      let headWidth = headHeight * this.headWidthFactor\r\n      let neckWidth = headHeight * this.neckWidthFactor\r\n      let neckHeight = headHeight * this.neckHeightFactor\r\n      let headEndPnt = PlotUtils.getThirdPoint(points[points.length - 2], headPnt, 0, headHeight, true)\r\n      let neckEndPnt = PlotUtils.getThirdPoint(points[points.length - 2], headPnt, 0, neckHeight, true)\r\n      let headLeft = PlotUtils.getThirdPoint(headPnt, headEndPnt, Constants.HALF_PI, headWidth, false)\r\n      let headRight = PlotUtils.getThirdPoint(headPnt, headEndPnt, Constants.HALF_PI, headWidth, true)\r\n      let neckLeft = PlotUtils.getThirdPoint(headPnt, neckEndPnt, Constants.HALF_PI, neckWidth, false)\r\n      let neckRight = PlotUtils.getThirdPoint(headPnt, neckEndPnt, Constants.HALF_PI, neckWidth, true)\r\n      return [neckLeft, headLeft, headPnt, headRight, neckRight]\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 插值面部分数据\r\n   * @param points\r\n   * @param neckLeft\r\n   * @param neckRight\r\n   * @param tailWidthFactor\r\n   * @returns {Array.<*>}\r\n   */\r\n  getArrowBodyPoints (points, neckLeft, neckRight, tailWidthFactor) {\r\n    let allLen = PlotUtils.wholeDistance(points)\r\n    let len = PlotUtils.getBaseLength(points)\r\n    let tailWidth = len * tailWidthFactor\r\n    let neckWidth = PlotUtils.MathDistance(neckLeft, neckRight)\r\n    let widthDif = (tailWidth - neckWidth) / 2\r\n    let [tempLen, leftBodyPnts, rightBodyPnts] = [0, [], []]\r\n    for (let i = 1; i < points.length - 1; i++) {\r\n      let angle = PlotUtils.getAngleOfThreePoints(points[i - 1], points[i], points[i + 1]) / 2\r\n      tempLen += PlotUtils.MathDistance(points[i - 1], points[i])\r\n      let w = (tailWidth / 2 - tempLen / allLen * widthDif) / Math.sin(angle)\r\n      let left = PlotUtils.getThirdPoint(points[i - 1], points[i], Math.PI - angle, w, true)\r\n      let right = PlotUtils.getThirdPoint(points[i - 1], points[i], angle, w, false)\r\n      leftBodyPnts.push(left)\r\n      rightBodyPnts.push(right)\r\n    }\r\n    return leftBodyPnts.concat(rightBodyPnts)\r\n  }\r\n\r\n  /**\r\n   * 获取对称点\r\n   * @param linePnt1\r\n   * @param linePnt2\r\n   * @param point\r\n   * @returns {*}\r\n   */\r\n  getTempPoint4 (linePnt1, linePnt2, point) {\r\n    try {\r\n      let midPnt = PlotUtils.Mid(linePnt1, linePnt2)\r\n      let len = PlotUtils.MathDistance(midPnt, point)\r\n      let angle = PlotUtils.getAngleOfThreePoints(linePnt1, midPnt, point)\r\n      let [symPnt, distance1, distance2, mid] = [undefined, undefined, undefined, undefined]\r\n      if (angle < Constants.HALF_PI) {\r\n        distance1 = len * Math.sin(angle)\r\n        distance2 = len * Math.cos(angle)\r\n        mid = PlotUtils.getThirdPoint(linePnt1, midPnt, Constants.HALF_PI, distance1, false)\r\n        symPnt = PlotUtils.getThirdPoint(midPnt, mid, Constants.HALF_PI, distance2, true)\r\n      } else if (angle >= Constants.HALF_PI && angle < Math.PI) {\r\n        distance1 = len * Math.sin(Math.PI - angle)\r\n        distance2 = len * Math.cos(Math.PI - angle)\r\n        mid = PlotUtils.getThirdPoint(linePnt1, midPnt, Constants.HALF_PI, distance1, false)\r\n        symPnt = PlotUtils.getThirdPoint(midPnt, mid, Constants.HALF_PI, distance2, false)\r\n      } else if (angle >= Math.PI && angle < Math.PI * 1.5) {\r\n        distance1 = len * Math.sin(angle - Math.PI)\r\n        distance2 = len * Math.cos(angle - Math.PI)\r\n        mid = PlotUtils.getThirdPoint(linePnt1, midPnt, Constants.HALF_PI, distance1, true)\r\n        symPnt = PlotUtils.getThirdPoint(midPnt, mid, Constants.HALF_PI, distance2, true)\r\n      } else {\r\n        distance1 = len * Math.sin(Math.PI * 2 - angle)\r\n        distance2 = len * Math.cos(Math.PI * 2 - angle)\r\n        mid = PlotUtils.getThirdPoint(linePnt1, midPnt, Constants.HALF_PI, distance1, true)\r\n        symPnt = PlotUtils.getThirdPoint(midPnt, mid, Constants.HALF_PI, distance2, false)\r\n      }\r\n      return symPnt\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {Map|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n    if (this.getPointCount() === 3 && this.tempPoint4 !== null) {\r\n      this.points.push(this.tempPoint4)\r\n    }\r\n    if (this.connPoint !== null) {\r\n      this.points.push(this.connPoint)\r\n    }\r\n  }\r\n}\r\n\r\nexport default DoubleArrow\r\n","/**\r\n * Created by FDD on 2017/5/24.\r\n * @desc 细直箭头\r\n */\r\nimport { Map } from 'ol'\r\nimport { LineString } from 'ol/geom'\r\nimport { STRAIGHT_ARROW } from '../../Utils/PlotTypes'\r\nimport * as PlotUtils from '../../Utils/utils'\r\nclass StraightArrow extends LineString {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = STRAIGHT_ARROW\r\n    this.fixPointCount = 2\r\n    this.maxArrowLength = 3000000\r\n    this.arrowLengthScale = 5\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    try {\r\n      let count = this.getPointCount()\r\n      if (count < 2) {\r\n        return false\r\n      } else {\r\n        let pnts = this.getPoints()\r\n        let [pnt1, pnt2] = [pnts[0], pnts[1]]\r\n        let distance = PlotUtils.MathDistance(pnt1, pnt2)\r\n        let len = distance / this.arrowLengthScale\r\n        len = ((len > this.maxArrowLength) ? this.maxArrowLength : len)\r\n        let leftPnt = PlotUtils.getThirdPoint(pnt1, pnt2, Math.PI / 6, len, false)\r\n        let rightPnt = PlotUtils.getThirdPoint(pnt1, pnt2, Math.PI / 6, len, true)\r\n        this.setCoordinates([pnt1, pnt2, leftPnt, pnt2, rightPnt])\r\n      }\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {{}|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default StraightArrow\r\n","/**\r\n * Created by FDD on 2017/5/24.\r\n * @desc 粗单尖头箭头\r\n * @Inherits ol.geom.Polygon\r\n */\r\nimport { Map } from 'ol'\r\nimport { Polygon } from 'ol/geom'\r\nimport { FINE_ARROW } from '../../Utils/PlotTypes'\r\nimport * as PlotUtils from '../../Utils/utils'\r\nimport * as Constants from '../../Constants'\r\nclass FineArrow extends Polygon {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = FINE_ARROW\r\n    this.tailWidthFactor = 0.1\r\n    this.neckWidthFactor = 0.2\r\n    this.headWidthFactor = 0.25\r\n    this.headAngle = Math.PI / 8.5\r\n    this.neckAngle = Math.PI / 13\r\n    this.fixPointCount = 2\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    try {\r\n      let cont = this.getPointCount()\r\n      if (cont < 2) {\r\n        return false\r\n      } else {\r\n        let pnts = this.getPoints()\r\n        let [pnt1, pnt2] = [pnts[0], pnts[1]]\r\n        let len = PlotUtils.getBaseLength(pnts)\r\n        let tailWidth = len * this.tailWidthFactor\r\n        let neckWidth = len * this.neckWidthFactor\r\n        let headWidth = len * this.headWidthFactor\r\n        let tailLeft = PlotUtils.getThirdPoint(pnt2, pnt1, Constants.HALF_PI, tailWidth, true)\r\n        let tailRight = PlotUtils.getThirdPoint(pnt2, pnt1, Constants.HALF_PI, tailWidth, false)\r\n        let headLeft = PlotUtils.getThirdPoint(pnt1, pnt2, this.headAngle, headWidth, false)\r\n        let headRight = PlotUtils.getThirdPoint(pnt1, pnt2, this.headAngle, headWidth, true)\r\n        let neckLeft = PlotUtils.getThirdPoint(pnt1, pnt2, this.neckAngle, neckWidth, false)\r\n        let neckRight = PlotUtils.getThirdPoint(pnt1, pnt2, this.neckAngle, neckWidth, true)\r\n        let pList = [tailLeft, neckLeft, headLeft, pnt2, headRight, neckRight, tailRight]\r\n        this.setCoordinates([pList])\r\n      }\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {Map|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default FineArrow\r\n","/**\r\n * Created by FDD on 2017/5/24.\r\n * @desc 粗单直箭头\r\n * @Inherits FineArrow\r\n */\r\nimport FineArrow from './FineArrow'\r\nimport { ASSAULT_DIRECTION } from '../../Utils/PlotTypes'\r\nclass AssaultDirection extends FineArrow {\r\n  constructor (coordinates, points, params) {\r\n    super(coordinates, points, params)\r\n    this.tailWidthFactor = 0.05\r\n    this.neckWidthFactor = 0.1\r\n    this.headWidthFactor = 0.15\r\n    this.type = ASSAULT_DIRECTION\r\n    this.headAngle = Math.PI / 4\r\n    this.neckAngle = Math.PI * 0.17741\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n    this.set('params', params)\r\n  }\r\n}\r\n\r\nexport default AssaultDirection\r\n","/**\r\n * Created by FDD on 2017/5/26.\r\n * @desc 进攻方向（尾）\r\n * @Inherits AttackArrow\r\n */\r\n\r\nimport { TAILED_ATTACK_ARROW } from '../../Utils/PlotTypes'\r\nimport AttackArrow from './AttackArrow'\r\nimport * as PlotUtils from '../../Utils/utils'\r\nclass TailedAttackArrow extends AttackArrow {\r\n  constructor (coordinates, points, params) {\r\n    super(coordinates, points, params)\r\n    this.type = TAILED_ATTACK_ARROW\r\n    this.headHeightFactor = 0.18\r\n    this.headWidthFactor = 0.3\r\n    this.neckHeightFactor = 0.85\r\n    this.neckWidthFactor = 0.15\r\n    this.tailWidthFactor = 0.1\r\n    this.headTailFactor = 0.8\r\n    this.swallowTailFactor = 1\r\n    this.swallowTailPnt = null\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    try {\r\n      let points = this.getPointCount()\r\n      if (points < 2) {\r\n        return false\r\n      } else if (points === 2) {\r\n        this.setCoordinates([this.points])\r\n        return false\r\n      } else {\r\n        let pnts = this.getPoints()\r\n        let [tailLeft, tailRight] = [pnts[0], pnts[1]]\r\n        if (PlotUtils.isClockWise(pnts[0], pnts[1], pnts[2])) {\r\n          tailLeft = pnts[1]\r\n          tailRight = pnts[0]\r\n        }\r\n        let midTail = PlotUtils.Mid(tailLeft, tailRight)\r\n        let bonePnts = [midTail].concat(pnts.slice(2))\r\n        let headPnts = this.getArrowHeadPoints(bonePnts, tailLeft, tailRight)\r\n        let [neckLeft, neckRight] = [headPnts[0], headPnts[4]]\r\n        let tailWidth = PlotUtils.MathDistance(tailLeft, tailRight)\r\n        let allLen = PlotUtils.getBaseLength(bonePnts)\r\n        let len = allLen * this.tailWidthFactor * this.swallowTailFactor\r\n        this.swallowTailPnt = PlotUtils.getThirdPoint(bonePnts[1], bonePnts[0], 0, len, true)\r\n        let factor = tailWidth / allLen\r\n        let bodyPnts = this.getArrowBodyPoints(bonePnts, neckLeft, neckRight, factor)\r\n        let count = bodyPnts.length\r\n        let leftPnts = [tailLeft].concat(bodyPnts.slice(0, count / 2))\r\n        leftPnts.push(neckLeft)\r\n        let rightPnts = [tailRight].concat(bodyPnts.slice(count / 2, count))\r\n        rightPnts.push(neckRight)\r\n        leftPnts = PlotUtils.getQBSplinePoints(leftPnts)\r\n        rightPnts = PlotUtils.getQBSplinePoints(rightPnts)\r\n        this.setCoordinates([leftPnts.concat(headPnts, rightPnts.reverse(), [this.swallowTailPnt, leftPnts[0]])])\r\n      }\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n}\r\n\r\nexport default TailedAttackArrow\r\n","/**\r\n * Created by FDD on 2017/5/26.\r\n * @desc 分队战斗行动\r\n * @Inherits AttackArrow\r\n */\r\n\r\nimport { SQUAD_COMBAT } from '../../Utils/PlotTypes'\r\nimport AttackArrow from './AttackArrow'\r\nimport * as PlotUtils from '../../Utils/utils'\r\nimport * as Constants from '../../Constants'\r\nclass SquadCombat extends AttackArrow {\r\n  constructor (coordinates, points, params) {\r\n    super(coordinates, points, params)\r\n    this.type = SQUAD_COMBAT\r\n    this.headHeightFactor = 0.18\r\n    this.headWidthFactor = 0.3\r\n    this.neckHeightFactor = 0.85\r\n    this.neckWidthFactor = 0.15\r\n    this.tailWidthFactor = 0.1\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    try {\r\n      let count = this.getPointCount()\r\n      if (count < 2) {\r\n        return false\r\n      } else {\r\n        let pnts = this.getPoints()\r\n        let tailPnts = this.getTailPoints(pnts)\r\n        let headPnts = this.getArrowHeadPoints(pnts, tailPnts[0], tailPnts[1])\r\n        let neckLeft = headPnts[0]\r\n        let neckRight = headPnts[4]\r\n        let bodyPnts = this.getArrowBodyPoints(pnts, neckLeft, neckRight, this.tailWidthFactor)\r\n        let count = bodyPnts.length\r\n        let leftPnts = [tailPnts[0]].concat(bodyPnts.slice(0, count / 2))\r\n        leftPnts.push(neckLeft)\r\n        let rightPnts = [tailPnts[1]].concat(bodyPnts.slice(count / 2, count))\r\n        rightPnts.push(neckRight)\r\n        leftPnts = PlotUtils.getQBSplinePoints(leftPnts)\r\n        rightPnts = PlotUtils.getQBSplinePoints(rightPnts)\r\n        this.setCoordinates([leftPnts.concat(headPnts, rightPnts.reverse())])\r\n      }\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n\r\n  getTailPoints (points) {\r\n    let allLen = PlotUtils.getBaseLength(points)\r\n    let tailWidth = allLen * this.tailWidthFactor\r\n    let tailLeft = PlotUtils.getThirdPoint(points[1], points[0], Constants.HALF_PI, tailWidth, false)\r\n    let tailRight = PlotUtils.getThirdPoint(points[1], points[0], Constants.HALF_PI, tailWidth, true)\r\n    return ([tailLeft, tailRight])\r\n  }\r\n}\r\n\r\nexport default SquadCombat\r\n","/**\r\n * Created by FDD on 2017/5/26.\r\n * @desc 分队战斗行动（尾）\r\n * @Inherits AttackArrow\r\n */\r\n\r\nimport { TAILED_SQUAD_COMBAT } from '../../Utils/PlotTypes'\r\nimport AttackArrow from './AttackArrow'\r\nimport * as PlotUtils from '../../Utils/utils'\r\nimport * as Constants from '../../Constants'\r\nclass TailedSquadCombat extends AttackArrow {\r\n  constructor (coordinates, points, params) {\r\n    super(coordinates, points, params)\r\n    this.type = TAILED_SQUAD_COMBAT\r\n    this.headHeightFactor = 0.18\r\n    this.headWidthFactor = 0.3\r\n    this.neckHeightFactor = 0.85\r\n    this.neckWidthFactor = 0.15\r\n    this.tailWidthFactor = 0.1\r\n    this.swallowTailFactor = 1\r\n    this.swallowTailPnt = null\r\n    this.fixPointCount = 2\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    try {\r\n      let count = this.getPointCount()\r\n      if (count < 2) {\r\n        return false\r\n      } else {\r\n        let pnts = this.getPoints()\r\n        let tailPnts = this.getTailPoints(pnts)\r\n        let headPnts = this.getArrowHeadPoints(pnts, tailPnts[0], tailPnts[2])\r\n        let neckLeft = headPnts[0]\r\n        let neckRight = headPnts[4]\r\n        let bodyPnts = this.getArrowBodyPoints(pnts, neckLeft, neckRight, this.tailWidthFactor)\r\n        let count = bodyPnts.length\r\n        let leftPnts = [tailPnts[0]].concat(bodyPnts.slice(0, count / 2))\r\n        leftPnts.push(neckLeft)\r\n        let rightPnts = [tailPnts[2]].concat(bodyPnts.slice(count / 2, count))\r\n        rightPnts.push(neckRight)\r\n        leftPnts = PlotUtils.getQBSplinePoints(leftPnts)\r\n        rightPnts = PlotUtils.getQBSplinePoints(rightPnts)\r\n        this.setCoordinates([leftPnts.concat(headPnts, rightPnts.reverse(), [tailPnts[1], leftPnts[0]])])\r\n      }\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n\r\n  getTailPoints (points) {\r\n    let allLen = PlotUtils.getBaseLength(points)\r\n    let tailWidth = allLen * this.tailWidthFactor\r\n    let tailLeft = PlotUtils.getThirdPoint(points[1], points[0], Constants.HALF_PI, tailWidth, false)\r\n    let tailRight = PlotUtils.getThirdPoint(points[1], points[0], Constants.HALF_PI, tailWidth, true)\r\n    let len = tailWidth * this.swallowTailFactor\r\n    let swallowTailPnt = PlotUtils.getThirdPoint(points[1], points[0], 0, len, true)\r\n    return ([tailLeft, swallowTailPnt, tailRight])\r\n  }\r\n}\r\n\r\nexport default TailedSquadCombat\r\n","/**\r\n * Created by FDD on 2017/5/27.\r\n * @desc 集结地\r\n * @Inherits ol.geom.Polygon\r\n */\r\nimport { Map } from 'ol'\r\nimport { Polygon } from 'ol/geom'\r\nimport { GATHERING_PLACE } from '../../Utils/PlotTypes'\r\nimport * as PlotUtils from '../../Utils/utils'\r\nimport * as Constants from '../../Constants'\r\nclass GatheringPlace extends Polygon {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = GATHERING_PLACE\r\n    this.t = 0.4\r\n    this.fixPointCount = 3\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    let pnts = this.getPoints()\r\n    let points = this.getPointCount()\r\n    if (pnts.length < 2) {\r\n      return false\r\n    } else {\r\n      if (points === 2) {\r\n        let mid = PlotUtils.Mid(pnts[0], pnts[1])\r\n        let d = PlotUtils.MathDistance(pnts[0], mid) / 0.9\r\n        let pnt = PlotUtils.getThirdPoint(pnts[0], mid, Constants.HALF_PI, d, true)\r\n        pnts = [pnts[0], pnt, pnts[1]]\r\n      }\r\n      let mid = PlotUtils.Mid(pnts[0], pnts[2])\r\n      pnts.push(mid, pnts[0], pnts[1])\r\n      let [normals, pnt1, pnt2, pnt3, pList] = [[], undefined, undefined, undefined, []]\r\n      for (let i = 0; i < pnts.length - 2; i++) {\r\n        pnt1 = pnts[i]\r\n        pnt2 = pnts[i + 1]\r\n        pnt3 = pnts[i + 2]\r\n        let normalPoints = PlotUtils.getBisectorNormals(this.t, pnt1, pnt2, pnt3)\r\n        normals = normals.concat(normalPoints)\r\n      }\r\n      let count = normals.length\r\n      normals = [normals[count - 1]].concat(normals.slice(0, count - 1))\r\n      for (let i = 0; i < pnts.length - 2; i++) {\r\n        pnt1 = pnts[i]\r\n        pnt2 = pnts[i + 1]\r\n        pList.push(pnt1)\r\n        for (let t = 0; t <= Constants.FITTING_COUNT; t++) {\r\n          let pnt = PlotUtils.getCubicValue(t / Constants.FITTING_COUNT, pnt1, normals[i * 2], normals[i * 2 + 1], pnt2)\r\n          pList.push(pnt)\r\n        }\r\n        pList.push(pnt2)\r\n      }\r\n      this.setCoordinates([pList])\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {Map|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default GatheringPlace\r\n","/**\r\n * Created by FDD on 2017/9/13.\r\n * @desc 直角旗标（使用两个控制点直接创建直角旗标）\r\n */\r\nimport { Map } from 'ol'\r\nimport { Polygon } from 'ol/geom'\r\nimport { RECTFLAG } from '../../Utils/PlotTypes'\r\nclass RectFlag extends Polygon {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = RECTFLAG\r\n    this.fixPointCount = 2\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    let count = this.getPointCount()\r\n    if (count < 2) {\r\n      return false\r\n    } else {\r\n      this.setCoordinates([this.calculatePonits(this.points)])\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 插值点数据\r\n   * @param points\r\n   * @returns {Array}\r\n   */\r\n  calculatePonits (points) {\r\n    let components = []\r\n    // 至少需要两个控制点\r\n    if (points.length > 1) {\r\n      // 取第一个\r\n      let startPoint = points[0]\r\n      // 取最后一个\r\n      let endPoint = points[points.length - 1]\r\n      var point1 = [endPoint[0], startPoint[1]]\r\n      var point2 = [endPoint[0], (startPoint[1] + endPoint[1]) / 2]\r\n      var point3 = [startPoint[0], (startPoint[1] + endPoint[1]) / 2]\r\n      var point4 = [startPoint[0], endPoint[1]]\r\n      components = [startPoint, point1, point2, point3, point4]\r\n    }\r\n    return components\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {Map|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default RectFlag\r\n","/**\r\n * Created by FDD on 2017/9/13.\r\n * @desc 三角旗标（使用两个控制点直接创建三角旗标）\r\n */\r\nimport { Map } from 'ol'\r\nimport { Polygon } from 'ol/geom'\r\n\r\nimport { TRIANGLEFLAG } from '../../Utils/PlotTypes'\r\nclass TriangleFlag extends Polygon {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = TRIANGLEFLAG\r\n    this.fixPointCount = 2\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    let count = this.getPointCount()\r\n    if (count < 2) {\r\n      return false\r\n    } else {\r\n      this.setCoordinates([this.calculatePonits(this.points)])\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 插值点数据\r\n   * @param points\r\n   * @returns {Array}\r\n   */\r\n  calculatePonits (points) {\r\n    let components = []\r\n    // 至少需要两个控制点\r\n    if (points.length > 1) {\r\n      // 取第一个\r\n      let startPoint = points[0]\r\n      // 取最后一个\r\n      let endPoint = points[points.length - 1]\r\n      var point1 = [endPoint[0], (startPoint[1] + endPoint[1]) / 2]\r\n      var point2 = [startPoint[0], (startPoint[1] + endPoint[1]) / 2]\r\n      var point3 = [startPoint[0], endPoint[1]]\r\n      components = [startPoint, point1, point2, point3]\r\n    }\r\n    return components\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {Map|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default TriangleFlag\r\n","/**\r\n * Created by FDD on 2017/9/13.\r\n * @desc 曲线旗标\r\n */\r\nimport { Map } from 'ol'\r\nimport { Polygon } from 'ol/geom'\r\nimport { CURVEFLAG } from '../../Utils/PlotTypes'\r\nimport { getBezierPoints } from '../../Utils/utils'\r\nclass CurveFlag extends Polygon {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = CURVEFLAG\r\n    this.fixPointCount = 2\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    let count = this.getPointCount()\r\n    if (count < 2) {\r\n      return false\r\n    } else {\r\n      this.setCoordinates([this.calculatePonits(this.points)])\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 插值点数据\r\n   * @param points\r\n   * @returns {Array}\r\n   */\r\n  calculatePonits (points) {\r\n    let components = []\r\n    // 至少需要两个控制点\r\n    if (points.length > 1) {\r\n      // 取第一个\r\n      let startPoint = points[0]\r\n      // 取最后一个\r\n      let endPoint = points[points.length - 1]\r\n      // 上曲线起始点\r\n      let point1 = startPoint\r\n      // 上曲线第一控制点\r\n      let point2 = [(endPoint[0] - startPoint[0]) / 4 + startPoint[0], (endPoint[1] - startPoint[1]) / 8 + startPoint[1]]\r\n      // 上曲线第二个点\r\n      let point3 = [(startPoint[0] + endPoint[0]) / 2, startPoint[1]]\r\n      // 上曲线第二控制点\r\n      let point4 = [(endPoint[0] - startPoint[0]) * 3 / 4 + startPoint[0], -(endPoint[1] - startPoint[1]) / 8 + startPoint[1]]\r\n      // 上曲线结束点\r\n      let point5 = [endPoint[0], startPoint[1]]\r\n      // 下曲线结束点\r\n      let point6 = [endPoint[0], (startPoint[1] + endPoint[1]) / 2]\r\n      // 下曲线第二控制点\r\n      let point7 = [(endPoint[0] - startPoint[0]) * 3 / 4 + startPoint[0], (endPoint[1] - startPoint[1]) * 3 / 8 + startPoint[1]]\r\n      // 下曲线第二个点\r\n      let point8 = [(startPoint[0] + endPoint[0]) / 2, (startPoint[1] + endPoint[1]) / 2]\r\n      // 下曲线第一控制点\r\n      let point9 = [(endPoint[0] - startPoint[0]) / 4 + startPoint[0], (endPoint[1] - startPoint[1]) * 5 / 8 + startPoint[1]]\r\n      // 下曲线起始点\r\n      let point10 = [startPoint[0], (startPoint[1] + endPoint[1]) / 2]\r\n      // 旗杆底部点\r\n      let point11 = [startPoint[0], endPoint[1]]\r\n      // 计算上曲线\r\n      let curve1 = getBezierPoints([point1, point2, point3, point4, point5])\r\n      // 计算下曲线\r\n      let curve2 = getBezierPoints([point6, point7, point8, point9, point10])\r\n      // 合并\r\n      components = curve1.concat(curve2)\r\n      components.push(point11)\r\n    }\r\n    return components\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {Map|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default CurveFlag\r\n","/**\r\n * Created by FDD on 2017/5/15.\r\n * @desc PlotDraw\r\n */\r\nimport { Map } from 'ol'\r\nimport { Draw as $DrawInteraction, DoubleClickZoom } from 'ol/interaction'\r\nimport {\r\n  Style as $Style,\r\n  Icon as $Icon,\r\n  Stroke as $Stroke,\r\n  Fill as $Fill\r\n} from 'ol/style'\r\n\r\nimport Feature from 'ol/Feature'\r\nimport { createBox } from 'ol/interaction/Draw'\r\n\r\nimport Observable from 'observable-emit'\r\nimport { getuuid, MathDistance, bindAll } from '../Utils/utils'\r\nimport { BASE_LAYERNAME } from '../Constants'\r\nimport { createVectorLayer } from '../Utils/layerUtils'\r\nimport PlotTextBox from '../Geometry/Text/PlotTextBox'\r\nimport * as Plots from '../Geometry/index'\r\nimport * as PlotTypes from '../Utils/PlotTypes'\r\n\r\nclass PlotDraw extends Observable {\r\n  constructor (map, params) {\r\n    super()\r\n    if (map && map instanceof Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n    this.options = params || {}\r\n    /**\r\n     * 交互点\r\n     * @type {null}\r\n     */\r\n    this.points = null\r\n    /**\r\n     * 当前标绘工具\r\n     * @type {null}\r\n     */\r\n    this.plot = null\r\n    /**\r\n     * 当前要素\r\n     * @type {null}\r\n     */\r\n    this.feature = null\r\n    /**\r\n     * 标绘类型\r\n     * @type {null}\r\n     */\r\n    this.plotType = null\r\n    /**\r\n     * 当前标绘参数\r\n     * @type {null}\r\n     */\r\n    this.plotParams = null\r\n    /**\r\n     * 当前地图视图\r\n     * @type {Element}\r\n     */\r\n    this.mapViewport = this.map.getViewport()\r\n    /**\r\n     * 地图双击交互\r\n     * @type {null}\r\n     */\r\n    this.dblClickZoomInteraction = null\r\n\r\n    /**\r\n     * draw交互工具\r\n     * @type {null}\r\n     * @private\r\n     */\r\n    this.drawInteraction_ = null\r\n\r\n    /**\r\n     * 创建图层名称\r\n     * @type {string}\r\n     */\r\n    this.layerName = ((this.options && this.options['layerName']) ? this.options['layerName'] : BASE_LAYERNAME)\r\n\r\n    bindAll([\r\n      'textAreaDrawEnd',\r\n      'mapFirstClickHandler',\r\n      'mapNextClickHandler',\r\n      'mapDoubleClickHandler',\r\n      'mapMouseMoveHandler'\r\n    ], this)\r\n\r\n    /**\r\n     * 当前矢量图层\r\n     * @type {*}\r\n     */\r\n    this.drawLayer = createVectorLayer(this.map, this.layerName, {\r\n      create: true\r\n    })\r\n    this.drawLayer.setZIndex(this.options['zIndex'] || 99)\r\n  }\r\n\r\n  /**\r\n   * 创建Plot\r\n   * @param type\r\n   * @param points\r\n   * @param _params\r\n   * @returns {*}\r\n   */\r\n  createPlot (type, points, _params) {\r\n    let params = _params || {}\r\n    switch (type) {\r\n      case PlotTypes.TEXTAREA:\r\n        return 'TextArea'\r\n      case PlotTypes.POINT:\r\n        return new Plots.Point([], points, params)\r\n      case PlotTypes.PENNANT:\r\n        return new Plots.Pennant([], points, params)\r\n      case PlotTypes.POLYLINE:\r\n        return new Plots.Polyline([], points, params)\r\n      case PlotTypes.ARC:\r\n        return new Plots.Arc([], points, params)\r\n      case PlotTypes.CIRCLE:\r\n        return new Plots.Circle([], points, params)\r\n      case PlotTypes.CURVE:\r\n        return new Plots.Curve([], points, params)\r\n      case PlotTypes.FREEHANDLINE:\r\n        return new Plots.FreeHandLine([], points, params)\r\n      case PlotTypes.RECTANGLE:\r\n        return new Plots.RectAngle([], points, params)\r\n      case PlotTypes.ELLIPSE:\r\n        return new Plots.Ellipse([], points, params)\r\n      case PlotTypes.LUNE:\r\n        return new Plots.Lune([], points, params)\r\n      case PlotTypes.SECTOR:\r\n        return new Plots.Sector([], points, params)\r\n      case PlotTypes.CLOSED_CURVE:\r\n        return new Plots.ClosedCurve([], points, params)\r\n      case PlotTypes.POLYGON:\r\n        return new Plots.Polygon([], points, params)\r\n      case PlotTypes.ATTACK_ARROW:\r\n        return new Plots.AttackArrow([], points, params)\r\n      case PlotTypes.FREE_POLYGON:\r\n        return new Plots.FreePolygon([], points, params)\r\n      case PlotTypes.DOUBLE_ARROW:\r\n        return new Plots.DoubleArrow([], points, params)\r\n      case PlotTypes.STRAIGHT_ARROW:\r\n        return new Plots.StraightArrow([], points, params)\r\n      case PlotTypes.FINE_ARROW:\r\n        return new Plots.FineArrow([], points, params)\r\n      case PlotTypes.ASSAULT_DIRECTION:\r\n        return new Plots.AssaultDirection([], points, params)\r\n      case PlotTypes.TAILED_ATTACK_ARROW:\r\n        return new Plots.TailedAttackArrow([], points, params)\r\n      case PlotTypes.SQUAD_COMBAT:\r\n        return new Plots.SquadCombat([], points, params)\r\n      case PlotTypes.TAILED_SQUAD_COMBAT:\r\n        return new Plots.TailedSquadCombat([], points, params)\r\n      case PlotTypes.GATHERING_PLACE:\r\n        return new Plots.GatheringPlace([], points, params)\r\n      case PlotTypes.RECTFLAG:\r\n        return new Plots.RectFlag([], points, params)\r\n      case PlotTypes.TRIANGLEFLAG:\r\n        return new Plots.TriangleFlag([], points, params)\r\n      case PlotTypes.CURVEFLAG:\r\n        return new Plots.CurveFlag([], points, params)\r\n    }\r\n    return null\r\n  }\r\n\r\n  /**\r\n   * 激活工具\r\n   * @param type\r\n   * @param params\r\n   */\r\n  active (type, params = {}) {\r\n    this.disActive()\r\n    this.deactiveMapTools()\r\n    this.plotType = type\r\n    this.plotParams = params\r\n    if (type === PlotTypes.TEXTAREA) {\r\n      this.activeInteraction()\r\n    } else if (Object.keys(PlotTypes).some(key => (PlotTypes[key] === type))) {\r\n      this.map.on('click', this.mapFirstClickHandler)\r\n    } else {\r\n      console.warn('不存在的标绘类型！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 激活交互工具\r\n   */\r\n  activeInteraction () {\r\n    this.drawInteraction_ = new $DrawInteraction({\r\n      style: new $Style({\r\n        fill: new $Fill({\r\n          color: 'rgba(255, 255, 255, 0.7)'\r\n        }),\r\n        stroke: new $Stroke({\r\n          color: 'rgba(0, 0, 0, 0.15)',\r\n          width: 2\r\n        }),\r\n        image: new $Icon({\r\n          anchor: [1, 1],\r\n          anchorXUnits: 'fraction',\r\n          anchorYUnits: 'fraction',\r\n          opacity: 0.75,\r\n          src: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABgklEQVQ4T41T0W3CQAy1lfwRqR0h/CE5UhkBJmiZADpB0wlKJwA2aDegE5QR+Igl/noj9OPuLydXPuXQEYUKS5FyPvvd87ONRDRFxEdr7c4Y8ws3WFmW90VRvIjIF1ZVtQaANxH59N6v8zwvRaQEgCMATDu88I+Ipm1bk2XZHhEfAOAdFW00Gh2YOQafOeidHoaYEdGHc65GDZhMJuXpdDJ99hqkPmZe9e9iTgCoqmrWNM0hDerq/FGftXbcZxFzAgARrZg5vBaNiGpE3OhZRF6Zedu7DzkRYMrMKlQKYBBRQVVgw8zj3n3IGWSg9ESkds6tiqJQbe4AYJ6WGVkPAqh4+romdP9LbXMqZh/gXIKqm+d5EK9vbduOY7d0AAdL6AYLmqbRAQtGRMc4ONF/wSC2RF/PsuwbABapqLEjKqb3fq4sLtoYh6Lbiydr7TbtuwYDgH5qB9XmPEjdKG+Y+Xmo7ms+Lcs5N0uX6ei9X9y4TGtEXIZlukb7PzbdmNcisv8DtQILak2vZsYAAAAASUVORK5CYII='\r\n        })\r\n      }),\r\n      type: 'Circle',\r\n      geometryFunction: createBox()\r\n    })\r\n    this.map.addInteraction(this.drawInteraction_)\r\n    this.drawInteraction_.on('drawend', this.textAreaDrawEnd)\r\n  }\r\n\r\n  /**\r\n   * 绘制结束\r\n   * @param event\r\n   */\r\n  textAreaDrawEnd (event) {\r\n    if (event && event.feature) {\r\n      this.map.removeInteraction(this.drawInteraction_)\r\n      const extent = event.feature.getGeometry().getExtent()\r\n      const _center = [(extent[0] + extent[2]) / 2, (extent[1] + extent[3]) / 2]\r\n      const topLeft = this.map.getPixelFromCoordinate([extent[0], extent[1]])\r\n      const bottomRight = this.map.getPixelFromCoordinate([extent[2], extent[3]])\r\n      const [_width, _height] = [Math.abs(topLeft[0] - bottomRight[0]), Math.abs(topLeft[1] - bottomRight[1])]\r\n      const _plotText = new PlotTextBox({\r\n        id: getuuid(),\r\n        position: _center,\r\n        value: '',\r\n        width: _width,\r\n        height: _height,\r\n        style: {\r\n          width: _width + 'px',\r\n          height: _height + 'px'\r\n        }\r\n      })\r\n      if (this.map && this.map instanceof Map && _plotText) {\r\n        this.map.addOverlay(_plotText)\r\n      } else {\r\n        console.warn('未传入地图对象或者plotText创建失败！')\r\n      }\r\n    } else {\r\n      console.info('未获取到要素！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 取消激活状态\r\n   */\r\n  disActive () {\r\n    this.removeEventHandlers()\r\n    if (this.drawInteraction_) {\r\n      this.map.removeInteraction(this.drawInteraction_)\r\n      this.drawInteraction_ = null\r\n    }\r\n    this.points = []\r\n    this.plot = null\r\n    this.feature = null\r\n    this.plotType = null\r\n    this.plotParams = null\r\n    this.activateMapTools()\r\n  }\r\n\r\n  /**\r\n   * PLOT是否处于激活状态\r\n   * @returns {boolean}\r\n   */\r\n  isDrawing () {\r\n    return !!this.plotType\r\n  }\r\n\r\n  /**\r\n   * 地图事件处理\r\n   * 激活工具后第一次点击事件\r\n   * @param event\r\n   */\r\n  mapFirstClickHandler (event) {\r\n    this.map.un('click', this.mapFirstClickHandler)\r\n    this.points.push(event.coordinate)\r\n    this.plot = this.createPlot(this.plotType, this.points, this.plotParams)\r\n    this.feature = new Feature(this.plot)\r\n    this.feature.set('isPlot', true)\r\n    this.drawLayer.getSource().addFeature(this.feature)\r\n    if (this.plotType === PlotTypes.POINT || this.plotType === PlotTypes.PENNANT) {\r\n      this.plot.finishDrawing()\r\n      this.drawEnd(event)\r\n    } else {\r\n      this.map.on('click', this.mapNextClickHandler)\r\n      if (!this.plot.freehand) {\r\n        this.map.on('dblclick', this.mapDoubleClickHandler)\r\n      }\r\n      this.map.un('pointermove', this.mapMouseMoveHandler)\r\n      this.map.on('pointermove', this.mapMouseMoveHandler)\r\n    }\r\n    if (this.plotType && this.feature) {\r\n      this.plotParams['plotType'] = this.plotType\r\n      this.feature.setProperties(this.plotParams)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 地图点击事件处理\r\n   * @param event\r\n   * @returns {boolean}\r\n   */\r\n  mapNextClickHandler (event) {\r\n    if (!this.plot.freehand) {\r\n      if (MathDistance(event.coordinate, this.points[this.points.length - 1]) < 0.0001) {\r\n        return false\r\n      }\r\n    }\r\n    this.points.push(event.coordinate)\r\n    this.plot.setPoints(this.points)\r\n    if (this.plot.fixPointCount === this.plot.getPointCount()) {\r\n      this.mapDoubleClickHandler(event)\r\n    }\r\n    if (this.plot && this.plot.freehand) {\r\n      this.mapDoubleClickHandler(event)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 地图双击事件处理\r\n   * @param event\r\n   */\r\n  mapDoubleClickHandler (event) {\r\n    event.preventDefault()\r\n    this.plot.finishDrawing()\r\n    this.drawEnd(event)\r\n  }\r\n\r\n  /**\r\n   * 地图事件处理\r\n   * 鼠标移动事件\r\n   * @param event\r\n   * @returns {boolean}\r\n   */\r\n  mapMouseMoveHandler (event) {\r\n    let coordinate = event.coordinate\r\n    if (MathDistance(coordinate, this.points[this.points.length - 1]) < 0.0001) {\r\n      return false\r\n    }\r\n    if (!this.plot.freehand) {\r\n      let pnts = this.points.concat([coordinate])\r\n      this.plot.setPoints(pnts)\r\n    } else {\r\n      this.points.push(coordinate)\r\n      this.plot.setPoints(this.points)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 移除事件监听\r\n   */\r\n  removeEventHandlers () {\r\n    this.map.un('click', this.mapFirstClickHandler)\r\n    this.map.un('click', this.mapNextClickHandler)\r\n    this.map.un('pointermove', this.mapMouseMoveHandler)\r\n    this.map.un('dblclick', this.mapDoubleClickHandler)\r\n  }\r\n\r\n  /**\r\n   * 绘制结束\r\n   */\r\n  drawEnd (event) {\r\n    this.dispatchSync('drawEnd', {\r\n      type: 'drawEnd',\r\n      originalEvent: event,\r\n      feature: this.feature\r\n    })\r\n    if (this.feature && this.options['isClear']) {\r\n      this.drawLayer.getSource().removeFeature(this.feature)\r\n    }\r\n    this.disActive()\r\n  }\r\n\r\n  /**\r\n   * 添加要素\r\n   */\r\n  addFeature () {\r\n    this.feature = new Feature(this.plot)\r\n    if (this.feature && this.drawLayer) {\r\n      this.drawLayer.getSource().addFeature(this.feature)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 取消激活地图交互工具\r\n   */\r\n  deactiveMapTools () {\r\n    let interactions = this.map.getInteractions().getArray()\r\n    interactions.every(item => {\r\n      if (item instanceof DoubleClickZoom) {\r\n        this.dblClickZoomInteraction = item\r\n        this.map.removeInteraction(item)\r\n        return false\r\n      } else {\r\n        return true\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 激活已取消的地图工具\r\n   * 还原之前状态\r\n   */\r\n  activateMapTools () {\r\n    if (this.dblClickZoomInteraction && this.dblClickZoomInteraction instanceof DoubleClickZoom) {\r\n      this.map.addInteraction(this.dblClickZoomInteraction)\r\n      this.dblClickZoomInteraction = null\r\n    }\r\n  }\r\n}\r\nexport default PlotDraw\r\n","import { Map, Overlay } from 'ol'\r\nimport { DragPan } from 'ol/interaction'\r\n\r\nimport Feature from 'ol/Feature'\r\n\r\nimport Observable from 'observable-emit'\r\nimport { bindAll } from '../Utils/utils'\r\nimport * as htmlUtils from '../Utils/domUtils'\r\nimport { BASE_HELP_CONTROL_POINT_ID, BASE_HELP_HIDDEN } from '../Constants'\r\nclass PlotEdit extends Observable {\r\n  constructor (map) {\r\n    super()\r\n    if (map && map instanceof Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n    /**\r\n     * 当前地图容器\r\n     * @type {Element}\r\n     */\r\n    this.mapViewport = this.map.getViewport()\r\n    /**\r\n     * 激活绘制工具\r\n     * @type {null}\r\n     */\r\n    this.activePlot = null\r\n    /**\r\n     * 开始点\r\n     * @type {null}\r\n     */\r\n    this.startPoint = null\r\n    /**\r\n     * clone的控制点\r\n     * @type {null}\r\n     */\r\n    this.ghostControlPoints = null\r\n    /**\r\n     * 控制点\r\n     * @type {null}\r\n     */\r\n    this.controlPoints = null\r\n    /**\r\n     * 鼠标移入\r\n     * @type {boolean}\r\n     */\r\n    this.mouseOver = false\r\n    /**\r\n     * 元素\r\n     * @type {{}}\r\n     */\r\n    this.elementTable = {}\r\n    /**\r\n     * 当前激活的控制点的ID\r\n     * @type {null}\r\n     */\r\n    this.activeControlPointId = null\r\n    /**\r\n     * 地图拖拽交互\r\n     * @type {null}\r\n     */\r\n    this.mapDragPan = null\r\n    /**\r\n     * 未激活之前鼠标样式\r\n     * @type {null}\r\n     * @private\r\n     */\r\n    this.previousCursor_ = null\r\n\r\n    bindAll([\r\n      'controlPointMouseDownHandler',\r\n      'controlPointMouseMoveHandler2',\r\n      'controlPointMouseUpHandler',\r\n      'controlPointMouseMoveHandler',\r\n      'plotMouseOverOutHandler',\r\n      'plotMouseDownHandler',\r\n      'plotMouseUpHandler',\r\n      'plotMouseMoveHandler'\r\n    ], this)\r\n  }\r\n\r\n  /**\r\n   * 初始化提示DOM\r\n   * @returns {boolean}\r\n   */\r\n  initHelperDom () {\r\n    if (!this.map || !this.activePlot) {\r\n      return false\r\n    }\r\n    let parent = this.getMapParentElement()\r\n    if (!parent) {\r\n      return false\r\n    } else {\r\n      let hiddenDiv = htmlUtils.createHidden('div', parent, BASE_HELP_HIDDEN)\r\n      let cPnts = this.getControlPoints()\r\n      if (cPnts && Array.isArray(cPnts) && cPnts.length > 0) {\r\n        cPnts.forEach((item, index) => {\r\n          let id = BASE_HELP_CONTROL_POINT_ID + '-' + index\r\n          htmlUtils.create('div', BASE_HELP_CONTROL_POINT_ID, hiddenDiv, id)\r\n          this.elementTable[id] = index\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取地图元素的父元素\r\n   * @returns {*}\r\n   */\r\n  getMapParentElement () {\r\n    let mapElement = this.map.getTargetElement()\r\n    if (!mapElement) {\r\n      return false\r\n    } else {\r\n      return mapElement.parentNode\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 销毁帮助提示DOM\r\n   */\r\n  destroyHelperDom () {\r\n    if (this.controlPoints && Array.isArray(this.controlPoints) && this.controlPoints.length > 0) {\r\n      this.controlPoints.forEach((item, index) => {\r\n        if (item && item instanceof Overlay) {\r\n          this.map.removeOverlay(item)\r\n        }\r\n        let element = htmlUtils.getElement(BASE_HELP_CONTROL_POINT_ID + '-' + index)\r\n        if (element) {\r\n          htmlUtils.off(element, 'mousedown', this.controlPointMouseDownHandler.bind(this))\r\n          htmlUtils.off(element, 'mousemove', this.controlPointMouseMoveHandler2.bind(this))\r\n        }\r\n      })\r\n      this.controlPoints = []\r\n    }\r\n    let parent = this.getMapParentElement()\r\n    let hiddenDiv = htmlUtils.getElement(BASE_HELP_HIDDEN)\r\n    if (hiddenDiv && parent) {\r\n      htmlUtils.remove(hiddenDiv, parent)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 初始化要素控制点\r\n   */\r\n  initControlPoints () {\r\n    this.controlPoints = []\r\n    let cPnts = this.getControlPoints()\r\n    if (cPnts && Array.isArray(cPnts) && cPnts.length > 0) {\r\n      cPnts.forEach((item, index) => {\r\n        let id = BASE_HELP_CONTROL_POINT_ID + '-' + index\r\n        this.elementTable[id] = index\r\n        let element = htmlUtils.getElement(id)\r\n        let pnt = new Overlay({\r\n          id: id,\r\n          position: cPnts[index],\r\n          positioning: 'center-center',\r\n          element: element\r\n        })\r\n        this.controlPoints.push(pnt)\r\n        this.map.addOverlay(pnt)\r\n        this.map.render()\r\n        htmlUtils.on(element, 'mousedown', this.controlPointMouseDownHandler)\r\n        htmlUtils.on(element, 'mousemove', this.controlPointMouseMoveHandler2)\r\n      })\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 对控制点的移动事件\r\n   * @param e\r\n   */\r\n  controlPointMouseMoveHandler2 (e) {\r\n    e.stopImmediatePropagation()\r\n  }\r\n\r\n  /**\r\n   * 对控制点的鼠标按下事件\r\n   * @param e\r\n   */\r\n  controlPointMouseDownHandler (e) {\r\n    this.activeControlPointId = e.target.id\r\n    this.map.on('pointermove', this.controlPointMouseMoveHandler)\r\n    htmlUtils.on(this.mapViewport, 'mouseup', this.controlPointMouseUpHandler)\r\n  }\r\n\r\n  /**\r\n   * 对控制点的移动事件\r\n   * @param event\r\n   */\r\n  controlPointMouseMoveHandler (event) {\r\n    let coordinate = event.coordinate\r\n    if (this.activeControlPointId) {\r\n      let plot = this.activePlot.getGeometry()\r\n      let index = this.elementTable[this.activeControlPointId]\r\n      plot.updatePoint(coordinate, index)\r\n      let overlay = this.map.getOverlayById(this.activeControlPointId)\r\n      if (overlay) {\r\n        overlay.setPosition(coordinate)\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 对控制点的鼠标抬起事件\r\n   * @param event\r\n   */\r\n  controlPointMouseUpHandler (event) {\r\n    this.map.un('pointermove', this.controlPointMouseMoveHandler)\r\n    htmlUtils.off(this.mapViewport, 'mouseup', this.controlPointMouseUpHandler)\r\n  }\r\n\r\n  /**\r\n   * 激活工具\r\n   * @param plot\r\n   * @returns {boolean}\r\n   */\r\n  activate (plot) {\r\n    if (plot &&\r\n      plot instanceof Feature &&\r\n      plot.get('isPlot') &&\r\n      plot.getGeometry().isPlot &&\r\n      plot !== this.activePlot) {\r\n      this.deactivate()\r\n      this.activePlot = plot\r\n      this.previousCursor_ = this.map.getTargetElement().style.cursor\r\n      window.setTimeout(() => {\r\n        this.dispatch('active_plot_change', this.activePlot)\r\n      }, 500)\r\n      this.map.on('pointermove', this.plotMouseOverOutHandler)\r\n      this.initHelperDom()\r\n      this.initControlPoints()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取要素的控制点\r\n   * @returns {Array}\r\n   */\r\n  getControlPoints () {\r\n    let points = []\r\n    if (this.activePlot) {\r\n      let geom = this.activePlot.getGeometry()\r\n      if (geom) {\r\n        points = geom.getPoints()\r\n      }\r\n    }\r\n    return points\r\n  }\r\n\r\n  /**\r\n   * 鼠标移出要编辑的要素范围\r\n   * @param e\r\n   * @returns {T|undefined}\r\n   */\r\n  plotMouseOverOutHandler (e) {\r\n    let feature = this.map.forEachFeatureAtPixel(e.pixel, function (feature) {\r\n      return feature\r\n    })\r\n    if (feature && feature === this.activePlot) {\r\n      if (!this.mouseOver) {\r\n        this.mouseOver = true\r\n        this.map.getTargetElement().style.cursor = 'move'\r\n        this.map.on('pointerdown', this.plotMouseDownHandler)\r\n      }\r\n    } else {\r\n      if (this.mouseOver) {\r\n        this.mouseOver = false\r\n        this.map.getTargetElement().style.cursor = 'default'\r\n        this.map.un('pointerdown', this.plotMouseDownHandler)\r\n      }\r\n    }\r\n    return feature\r\n  }\r\n\r\n  /**\r\n   * 在要编辑的要素按下鼠标按键\r\n   * @param event\r\n   */\r\n  plotMouseDownHandler (event) {\r\n    this.ghostControlPoints = this.getControlPoints()\r\n    this.startPoint = event.coordinate\r\n    this.disableMapDragPan()\r\n    this.map.on('pointerup', this.plotMouseUpHandler)\r\n    this.map.on('pointerdrag', this.plotMouseMoveHandler)\r\n  }\r\n\r\n  /**\r\n   * 在要编辑的要素上移动鼠标\r\n   * @param event\r\n   */\r\n  plotMouseMoveHandler (event) {\r\n    let [deltaX, deltaY, newPoints] = [event.coordinate[0] - this.startPoint[0], event.coordinate[1] - this.startPoint[1], []]\r\n    if (this.ghostControlPoints && Array.isArray(this.ghostControlPoints) && this.ghostControlPoints.length > 0) {\r\n      for (let i = 0; i < this.ghostControlPoints.length; i++) {\r\n        let coordinate = [this.ghostControlPoints[i][0] + deltaX, this.ghostControlPoints[i][1] + deltaY]\r\n        newPoints.push(coordinate)\r\n        let id = BASE_HELP_CONTROL_POINT_ID + '-' + i\r\n        let overlay = this.map.getOverlayById(id)\r\n        if (overlay) {\r\n          overlay.setPosition(coordinate)\r\n          overlay.setPositioning('center-center')\r\n        }\r\n      }\r\n    }\r\n    const _geometry = this.activePlot.getGeometry()\r\n    _geometry.setPoints(newPoints)\r\n  }\r\n\r\n  /**\r\n   * 鼠标抬起事件\r\n   * @param event\r\n   */\r\n  plotMouseUpHandler (event) {\r\n    this.enableMapDragPan()\r\n    this.map.un('pointerup', this.plotMouseUpHandler)\r\n    this.map.un('pointerdrag', this.plotMouseMoveHandler)\r\n  }\r\n\r\n  /**\r\n   * 取消事件关联\r\n   */\r\n  disconnectEventHandlers () {\r\n    this.map.un('pointermove', this.plotMouseOverOutHandler)\r\n    this.map.un('pointermove', this.controlPointMouseMoveHandler)\r\n    htmlUtils.off(this.mapViewport, 'mouseup', this.controlPointMouseUpHandler)\r\n    this.map.un('pointerdown', this.plotMouseDownHandler)\r\n    this.map.un('pointerup', this.plotMouseUpHandler)\r\n    this.map.un('pointerdrag', this.plotMouseMoveHandler)\r\n  }\r\n\r\n  /**\r\n   * 取消激活工具\r\n   */\r\n  deactivate () {\r\n    this.activePlot = null\r\n    this.mouseOver = false\r\n    this.map.getTargetElement().style.cursor = this.previousCursor_\r\n    this.previousCursor_ = null\r\n    this.destroyHelperDom()\r\n    this.disconnectEventHandlers()\r\n    this.enableMapDragPan()\r\n    this.elementTable = {}\r\n    this.activeControlPointId = null\r\n    this.startPoint = null\r\n  }\r\n\r\n  /**\r\n   * 禁止地图的拖拽平移\r\n   */\r\n  disableMapDragPan () {\r\n    let interactions = this.map.getInteractions().getArray()\r\n    interactions.every(item => {\r\n      if (item instanceof DragPan) {\r\n        this.mapDragPan = item\r\n        this.map.removeInteraction(item)\r\n        return false\r\n      } else {\r\n        return true\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 激活地图的拖拽平移\r\n   */\r\n  enableMapDragPan () {\r\n    if (this.mapDragPan && this.mapDragPan instanceof DragPan) {\r\n      this.map.addInteraction(this.mapDragPan)\r\n      this.mapDragPan = null\r\n    }\r\n  }\r\n}\r\nexport default PlotEdit\r\n","/**\r\n * Created by FDD on 2017/5/1.\r\n * @desc 通过json获取样式\r\n */\r\nimport {\r\n  Style, Icon, Stroke, Fill, RegularShape,\r\n  Text\r\n} from 'ol/style'\r\nimport { Geometry } from 'ol/geom'\r\n\r\nconst StyleFactory = function (options) {\r\n  let option = (options && typeof options === 'object') ? options : {}\r\n  let style = new Style({})\r\n  if (option['geometry'] && option['geometry'] instanceof Geometry) {\r\n    style.setGeometry(option['geometry'])\r\n  }\r\n  if (option['zIndex'] && typeof option['zIndex'] === 'number') {\r\n    style.setZIndex(option['zIndex'])\r\n  }\r\n  if (option['fill'] && typeof option['fill'] === 'object') {\r\n    style.setFill(this._getFill(option['fill']))\r\n  }\r\n  if (option['image'] && typeof option['image'] === 'object') {\r\n    style.setImage(this._getImage(option['image']))\r\n  }\r\n  if (option['stroke'] && typeof option['stroke'] === 'object') {\r\n    style.setStroke(this._getStroke(option['stroke']))\r\n  }\r\n  if (option['text'] && typeof option['text'] === 'object') {\r\n    style.setText(this._getText(option['text']))\r\n  }\r\n  return style\r\n}\r\n\r\n/**\r\n * 获取规则样式图形\r\n * @param options\r\n * @returns {*}\r\n * @private\r\n */\r\nStyleFactory.prototype._getRegularShape = function (options) {\r\n  try {\r\n    let regularShape = new RegularShape({\r\n      fill: (this._getFill(options['fill']) || undefined),\r\n      points: ((typeof options['points'] === 'number') ? options['points'] : 1),\r\n      radius: ((typeof options['radius'] === 'number') ? options['radius'] : undefined),\r\n      radius1: ((typeof options['radius1'] === 'number') ? options['radius1'] : undefined),\r\n      radius2: ((typeof options['radius2'] === 'number') ? options['radius2'] : undefined),\r\n      angle: ((typeof options['angle'] === 'number') ? options['angle'] : 0),\r\n      snapToPixel: ((typeof options['snapToPixel'] === 'boolean') ? options['snapToPixel'] : true),\r\n      stroke: (this._getStroke(options['stroke']) || undefined),\r\n      rotation: ((typeof options['rotation'] === 'number') ? options['rotation'] : 0),\r\n      rotateWithView: ((typeof options['rotateWithView'] === 'boolean') ? options['rotateWithView'] : false),\r\n      atlasManager: (options['atlasManager'] ? options['atlasManager'] : undefined)\r\n    })\r\n    return regularShape\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\n/**\r\n * 获取图标样式\r\n * @param options\r\n * @returns {*}\r\n * @private\r\n */\r\nStyleFactory.prototype._getImage = function (options) {\r\n  try {\r\n    let image\r\n    options = options || {}\r\n    if (options['type'] === 'icon') {\r\n      image = this._getIcon(options['image'])\r\n    } else {\r\n      image = this._getRegularShape(options['image'])\r\n    }\r\n    return image\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\n/**\r\n * 获取icon\r\n * @param options\r\n * @returns {ol.style.Icon}\r\n * @private\r\n */\r\nStyleFactory.prototype._getIcon = function (options) {\r\n  try {\r\n    options = options || {}\r\n    let icon = new Icon({\r\n      anchor: (options['imageAnchor'] ? options['imageAnchor'] : [0.5, 0.5]),\r\n      anchorXUnits: (options['imageAnchorXUnits'] ? options['imageAnchorXUnits'] : 'fraction'),\r\n      anchorYUnits: (options['imageAnchorYUnits'] ? options['imageAnchorYUnits'] : 'fraction'),\r\n      anchorOrigin: (options['imageAnchorOrigin'] ? options['imageAnchorYUnits'] : 'top-left'),\r\n      color: (options['imageColor'] ? options['imageColor'] : undefined),\r\n      crossOrigin: (options['crossOrigin'] ? options['crossOrigin'] : undefined),\r\n      img: (options['img'] ? options['img'] : undefined),\r\n      offset: (options['offset'] && Array.isArray(options['offset']) && options['offset'].length === 2 ? options['offset'] : [0, 0]),\r\n      offsetOrigin: (options['offsetOrigin'] ? options['offsetOrigin'] : 'top-left'),\r\n      scale: ((typeof options['scale'] === 'number') ? options['scale'] : 1),\r\n      snapToPixel: (typeof options['snapToPixel'] === 'boolean' ? options['snapToPixel'] : true),\r\n      rotateWithView: (typeof options['rotateWithView'] === 'boolean' ? options['rotateWithView'] : false),\r\n      opacity: (typeof options['imageOpacity'] === 'number' ? options['imageOpacity'] : 1),\r\n      rotation: (typeof options['imageRotation'] === 'number' ? options['imageRotation'] : 0),\r\n      size: (options['size'] && Array.isArray(options['size']) && options['size'].length === 2 ? options['size'] : undefined),\r\n      imgSize: (options['imgSize'] && Array.isArray(options['imgSize']) && options['imgSize'].length === 2 ? options['imgSize'] : undefined),\r\n      src: (options['imageSrc'] ? options['imageSrc'] : undefined)\r\n    })\r\n    return icon\r\n  } catch (error) {\r\n    console.log(error)\r\n  }\r\n}\r\n/**\r\n * 获取线条样式\r\n * @param options\r\n * @returns {Stroke}\r\n * @private\r\n */\r\nStyleFactory.prototype._getStroke = function (options) {\r\n  try {\r\n    options = options || {}\r\n    let stroke = new Stroke({\r\n      color: (options['strokeColor'] ? options['strokeColor'] : undefined),\r\n      lineCap: ((options['strokeLineCap'] && typeof options['strokeLineCap'] === 'string') ? options['strokeLineCap'] : 'round'),\r\n      lineJoin: ((options['strokeLineJoin'] && typeof options['strokeLineJoin'] === 'string') ? options['strokeLineJoin'] : 'round'),\r\n      lineDash: (options['strokeLineDash'] ? options['strokeLineDash'] : undefined),\r\n      lineDashOffset: (typeof options['strokeLineDashOffset'] === 'number' ? options['strokeLineDashOffset'] : '0'),\r\n      miterLimit: (typeof options['strokeMiterLimit'] === 'number' ? options['strokeMiterLimit'] : 10),\r\n      width: (typeof options['strokeWidth'] === 'number' ? options['strokeWidth'] : undefined)\r\n    })\r\n    return stroke\r\n  } catch (error) {\r\n    console.log(error)\r\n  }\r\n}\r\n\r\n/**\r\n * 获取样式文本\r\n * @param options\r\n * @returns {Text}\r\n * @private\r\n */\r\nStyleFactory.prototype._getText = function (options) {\r\n  try {\r\n    let text = new Text({\r\n      font: ((options['textFont'] && typeof options['textFont'] === 'string') ? options['textFont'] : '10px sans-serif'),\r\n      offsetX: (typeof options['textOffsetX'] === 'number' ? options['textOffsetX'] : 0),\r\n      offsetY: (typeof options['textOffsetY'] === 'number' ? options['textOffsetY'] : 0),\r\n      scale: (typeof options['textScale'] === 'number' ? options['textScale'] : undefined),\r\n      rotation: (typeof options['textRotation'] === 'number' ? options['textRotation'] : 0),\r\n      text: ((options['text'] && typeof options['text'] === 'string') ? options['text'] : undefined),\r\n      textAlign: ((options['textAlign'] && typeof options['textAlign'] === 'string') ? options['textAlign'] : 'start'),\r\n      textBaseline: ((options['textBaseline'] && typeof options['textBaseline'] === 'string') ? options['textBaseline'] : 'alphabetic'),\r\n      rotateWithView: (typeof options['rotateWithView'] === 'boolean' ? options['rotateWithView'] : false),\r\n      fill: this._getFill(options['textFill']),\r\n      stroke: this._getStroke(options['textStroke'])\r\n    })\r\n    return text\r\n  } catch (error) {\r\n    console.log(error)\r\n  }\r\n}\r\n\r\n/**\r\n * 获取填充颜色\r\n * @param options\r\n * @returns {Fill}\r\n * @private\r\n */\r\nStyleFactory.prototype._getFill = function (options) {\r\n  try {\r\n    options = options || {}\r\n    let fill = new Fill({\r\n      color: (options['fillColor'] ? options['fillColor'] : undefined)\r\n    })\r\n    return fill\r\n  } catch (error) {\r\n    console.log(error)\r\n  }\r\n}\r\n\r\nexport default StyleFactory\r\n","/**\r\n * Created by FDD on 2017/9/12.\r\n * @desc 标绘相关工具（包含样式修改获取和标绘保存和恢复）\r\n */\r\nimport { Map } from 'ol'\r\nimport {\r\n  Style, Icon,\r\n  RegularShape\r\n} from 'ol/style'\r\nimport { Vector as VectorLayer } from 'ol/layer'\r\nimport { Vector as VectorSource } from 'ol/source'\r\nimport { asArray, asString } from 'ol/color'\r\nimport { Point } from 'ol/geom'\r\nimport { getSize, getBottomLeft, getTopRight, buffer } from 'ol/extent'\r\n\r\nimport Feature from 'ol/Feature'\r\n\r\nimport olStyleFactory from '../Utils/factory'\r\nimport PlotTextBox from '../Geometry/Text/PlotTextBox'\r\nimport * as Geometry from '../Geometry'\r\nimport { createVectorLayer, getLayerByLayerName } from '../Utils/layerUtils'\r\nimport { BASE_LAYERNAME } from '../Constants'\r\nclass PlotUtils {\r\n  constructor (map, options) {\r\n    if (map && map instanceof Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n\r\n    this.options = options\r\n    this.layerName = ((this.options && this.options['layerName']) ? this.options['layerName'] : BASE_LAYERNAME)\r\n  }\r\n\r\n  /**\r\n   * 获取样式信息\r\n   * @param feature\r\n   * @returns {boolean}\r\n   */\r\n  getBaseStyle (feature) {\r\n    let style = feature.getStyle()\r\n    if (!style) {\r\n      let layer = getLayerByLayerName(this.map, this.layerName)\r\n      if (layer && layer instanceof VectorLayer) {\r\n        style = layer.getStyle()\r\n      } else {\r\n        return false\r\n      }\r\n    }\r\n    return style\r\n  }\r\n\r\n  /**\r\n   * 设置点类型的图标样式\r\n   * @param feature\r\n   * @param image\r\n   */\r\n  setIcon (feature, image) {\r\n    try {\r\n      if (feature && feature instanceof Feature) {\r\n        let style = this.getBaseStyle(feature)\r\n        let tempStyle = style.clone()\r\n        let _image = this._getImage(image)\r\n        if (_image) {\r\n          tempStyle.setImage(_image)\r\n          feature.setStyle(tempStyle)\r\n        }\r\n      }\r\n    } catch (e) {\r\n      console.warn(e)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置背景颜色\r\n   * @param feature\r\n   * @param backgroundColor\r\n   * @returns {boolean}\r\n   */\r\n  setBackgroundColor (feature, backgroundColor) {\r\n    try {\r\n      if (feature && feature instanceof Feature) {\r\n        let style = this.getBaseStyle(feature)\r\n        let tempStyle = style.clone()\r\n        let fill = tempStyle.getFill()\r\n        let color = fill.getColor()\r\n        if (color) {\r\n          let tempColor = asArray(color)\r\n          let _color = asArray(backgroundColor)\r\n          let currentColor = this.handleBackgroundColor(_color, tempColor[3])\r\n          fill.setColor(currentColor)\r\n          feature.setStyle(tempStyle)\r\n        }\r\n      }\r\n    } catch (e) {\r\n      console.warn(e)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置透明度\r\n   * @param feature\r\n   * @param opacity\r\n   */\r\n  setOpacity (feature, opacity) {\r\n    try {\r\n      if (feature && feature instanceof Feature) {\r\n        let style = this.getBaseStyle(feature)\r\n        if (style) {\r\n          let tempStyle = style.clone()\r\n          let fill = tempStyle.getFill()\r\n          let color = fill.getColor()\r\n          if (color) {\r\n            let tempColor = asArray(color)\r\n            tempColor[3] = opacity\r\n            let currentColor = 'rgba(' + tempColor.join(',') + ')'\r\n            fill.setColor(currentColor)\r\n            feature.setStyle(tempStyle)\r\n          }\r\n        }\r\n      }\r\n    } catch (e) {\r\n      console.warn(e)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置边框颜色\r\n   * @param feature\r\n   * @param borderColor\r\n   */\r\n  setBorderColor (feature, borderColor) {\r\n    try {\r\n      if (feature && feature instanceof Feature) {\r\n        let style = this.getBaseStyle(feature)\r\n        let tempStyle = style.clone()\r\n        let stroke = tempStyle.getStroke()\r\n        stroke.setColor(borderColor)\r\n        feature.setStyle(tempStyle)\r\n      }\r\n    } catch (e) {\r\n      console.warn(e)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置边框宽度\r\n   * @param feature\r\n   * @param borderWidth\r\n   */\r\n  setBorderWidth (feature, borderWidth) {\r\n    try {\r\n      if (feature && feature instanceof Feature) {\r\n        let style = this.getBaseStyle(feature)\r\n        let tempStyle = style.clone()\r\n        let stroke = tempStyle.getStroke()\r\n        stroke.setWidth(borderWidth)\r\n        feature.setStyle(tempStyle)\r\n      }\r\n    } catch (e) {\r\n      console.warn(e)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 处理背景色\r\n   * @param color\r\n   * @param opacity\r\n   * @returns {string}\r\n   */\r\n  handleBackgroundColor (color, opacity) {\r\n    try {\r\n      if (!opacity) opacity = 1\r\n      let tempColor = asArray(color)\r\n      tempColor[3] = opacity\r\n      return ('rgba(' + tempColor.join(',') + ')')\r\n    } catch (e) {\r\n      console.warn(e)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取颜色值\r\n   * @param color\r\n   * @returns {string}\r\n   */\r\n  getColor (color) {\r\n    try {\r\n      let colorTarget = asArray(color)\r\n      return (asString(colorTarget))\r\n    } catch (e) {\r\n      console.warn(e)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 去除无值的字段\r\n   * @param obj\r\n   * @returns {*}\r\n   */\r\n  fixObject (obj) {\r\n    if (obj && typeof obj === 'object') {\r\n      for (let key in obj) {\r\n        if (key && typeof obj[key] === 'undefined') {\r\n          delete obj[key]\r\n        }\r\n      }\r\n    }\r\n    return obj\r\n  }\r\n\r\n  /**\r\n   * 获取stroke\r\n   * @param style\r\n   * @returns {*}\r\n   */\r\n  getStroke_ (style) {\r\n    let stroke = null\r\n    if (style) {\r\n      let olStyle_ = style.getStroke()\r\n      if (olStyle_) {\r\n        stroke = {}\r\n        stroke['strokeColor'] = this.getColor(olStyle_.getColor())\r\n        stroke['strokeWidth'] = olStyle_.getWidth()\r\n        stroke['strokeLineDash'] = olStyle_.getLineDash()\r\n        stroke['lineDashOffset'] = olStyle_.getLineDashOffset()\r\n        stroke['strokeLineCap'] = olStyle_.getLineCap()\r\n        stroke['strokeLineJoin'] = olStyle_.getLineJoin()\r\n        stroke['strokeMiterLimit'] = olStyle_.getMiterLimit()\r\n      }\r\n    }\r\n    return this.fixObject(stroke)\r\n  }\r\n\r\n  /**\r\n   * 获取填充色\r\n   * @param style\r\n   * @returns {*}\r\n   * @private\r\n   */\r\n  getFill_ (style) {\r\n    let fill = null\r\n    if (style) {\r\n      let olStyle_ = style.getFill()\r\n      if (olStyle_) {\r\n        fill = {}\r\n        let color = olStyle_.getColor()\r\n        fill['fillColor'] = this.getColor(color)\r\n      }\r\n    }\r\n    return this.fixObject(fill)\r\n  }\r\n\r\n  /**\r\n   * 获取文本信息\r\n   * @param style\r\n   * @returns {*}\r\n   * @private\r\n   */\r\n  getText_ (style) {\r\n    let text = null\r\n    if (style) {\r\n      let olStyle_ = style.getText()\r\n      if (olStyle_) {\r\n        text = {}\r\n        text['textFont'] = olStyle_.getFont()\r\n        text['textOffsetX'] = olStyle_.getOffsetX()\r\n        text['textOffsetY'] = olStyle_.getOffsetY()\r\n        text['textScale'] = olStyle_.getScale()\r\n        text['textRotation'] = olStyle_.getRotation()\r\n        text['text'] = olStyle_.getText()\r\n        text['textAlign'] = olStyle_.getTextAlign()\r\n        text['textBaseline'] = olStyle_.getTextBaseline()\r\n        text['rotateWithView'] = olStyle_.getRotateWithView()\r\n        text['textFill'] = this.getFill_(olStyle_)\r\n        text['textStroke'] = this.getStroke_(olStyle_)\r\n      }\r\n    }\r\n    return this.fixObject(text)\r\n  }\r\n\r\n  /**\r\n   * 获取图像信息\r\n   * @param style\r\n   * @returns {*}\r\n   * @private\r\n   */\r\n  getImage_ (style) {\r\n    let image = null\r\n    if (style) {\r\n      let olStyle_ = style.getImage()\r\n      if (olStyle_) {\r\n        image = {}\r\n        if (olStyle_ instanceof Icon) {\r\n          image['type'] = 'icon'\r\n          image['image'] = {}\r\n          image['image']['imageAnchor'] = olStyle_.getAnchor()\r\n          image['image']['imageColor'] = olStyle_.getColor()\r\n          image['image']['imageSrc'] = olStyle_.getSrc()\r\n          image['image']['imgSize'] = olStyle_.getSize()\r\n          image['image']['scale'] = olStyle_.getScale()\r\n          image['image']['imageRotation'] = olStyle_.getRotation()\r\n          image['image']['rotateWithView'] = olStyle_.getRotateWithView()\r\n          image['image']['imageOpacity'] = olStyle_.getOpacity()\r\n          image['image']['snapToPixel'] = olStyle_.getSnapToPixel()\r\n          image['image']['offset'] = olStyle_.getOrigin()\r\n        } else if (olStyle_ instanceof RegularShape) {\r\n          image['type'] = ''\r\n          image['image'] = {}\r\n          image['image']['fill'] = this.getFill_(olStyle_)\r\n          image['image']['points'] = olStyle_.getPoints()\r\n          image['image']['radius'] = olStyle_.getRadius()\r\n          image['image']['radius2'] = olStyle_.getRadius2()\r\n          image['image']['angle'] = olStyle_.getAngle()\r\n          image['image']['stroke'] = this.getStroke_(olStyle_)\r\n          image['image']['rotateWithView'] = olStyle_.getRotateWithView()\r\n          image['image']['snapToPixel'] = olStyle_.getSnapToPixel()\r\n        }\r\n      }\r\n    }\r\n    return this.fixObject(image)\r\n  }\r\n\r\n  /**\r\n   * 获取样式配置\r\n   * @param feature\r\n   * @returns {{fill: {fillColor: string, opacity: number}, stroke: *, image: *, text: *}}\r\n   */\r\n  getStyleCode (feature) {\r\n    try {\r\n      if (feature && feature instanceof Feature) {\r\n        let style = this.getBaseStyle(feature)\r\n        if (style && style instanceof Style) {\r\n          // 填充颜色\r\n          let fill = this.getFill_(style)\r\n          let [opacity, rgbaArray, backgroundColor] = [1, null]\r\n          if (fill && fill['fillColor']) {\r\n            rgbaArray = asArray(fill['fillColor'])\r\n            opacity = parseFloat(rgbaArray[3])\r\n            if (rgbaArray && typeof opacity === 'number') {\r\n              backgroundColor = this.handleBackgroundColor(asString(rgbaArray), opacity)\r\n            }\r\n          }\r\n          // 边框线条\r\n          let stroke = this.getStroke_(style)\r\n          // 文本信息\r\n          let text = this.getText_(style)\r\n          // 获取icon\r\n          let icon = this.getImage_(style)\r\n          return {\r\n            fill: {\r\n              fillColor: backgroundColor,\r\n              opacity: opacity\r\n            },\r\n            stroke: stroke,\r\n            image: icon,\r\n            text: text\r\n          }\r\n        }\r\n      }\r\n    } catch (e) {\r\n      console.warn(e)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 移除图层上所有的数据\r\n   */\r\n  removeAllFeatures () {\r\n    const layer = getLayerByLayerName(this.map, this.layerName)\r\n    const overlays_ = this.map.getOverlays().getArray()\r\n    if (layer) {\r\n      let source = layer.getSource()\r\n      source.clear()\r\n    }\r\n    if (overlays_ && overlays_.length > 0) {\r\n      let len = overlays_.length\r\n      for (let i = 0; i < len; i++) {\r\n        if (overlays_[i] && overlays_[i].get('isPlotText')) {\r\n          this.map.removeOverlay(overlays_[i])\r\n          i--\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取所有的要素包含样式信息的GeoJSON\r\n   * @returns {Array}\r\n   */\r\n  getFeatures () {\r\n    let rFeatures = []\r\n    let layer = getLayerByLayerName(this.map, this.layerName)\r\n    if (layer) {\r\n      let source = layer.getSource()\r\n      if (source && source instanceof VectorSource) {\r\n        let features = source.getFeatures()\r\n        if (features && features.length > 0) {\r\n          features.forEach((feature, index) => {\r\n            if (feature && feature.getGeometry) {\r\n              rFeatures.push(this.jsonFeature(feature));\r\n            }\r\n          })\r\n        }\r\n      }\r\n    }\r\n    const overlays_ = this.map.getOverlays().getArray()\r\n    overlays_.forEach(overlay => {\r\n      if (overlay.get('isPlotText')) {\r\n        const style_ = overlay.getStyle()\r\n        style_['width'] = overlay.getWidth() + 'px'\r\n        style_['height'] = overlay.getHeight() + 'px'\r\n        rFeatures.push({\r\n          'type': 'Feature',\r\n          'geometry': {\r\n            'type': 'PlotText',\r\n            'coordinates': overlay.getPosition()\r\n          },\r\n          'properties': {\r\n            'id': overlay.getId(),\r\n            'width': overlay.getWidth(),\r\n            'height': overlay.getHeight(),\r\n            'style': style_,\r\n            'value': overlay.getValue()\r\n          }\r\n        })\r\n      }\r\n    })\r\n    return rFeatures\r\n  }\r\n  /**\r\n   * 将标绘对象转换为Json对象\r\n   * @param {*} feature \r\n   */\r\n  jsonFeature(feature){\r\n    let geom = feature.getGeometry();\r\n    let obj;\r\n    if (geom && geom.getCoordinates) {\r\n      let type = geom.getType()\r\n      let coordinates = geom.getCoordinates()\r\n      obj = {\r\n        'type': 'Feature',\r\n        'geometry': {\r\n          'type': type,\r\n          'coordinates': coordinates\r\n        },\r\n        'properties': {\r\n          'type': feature.getGeometry().getPlotType(),\r\n          'style': this.getStyleCode(feature),\r\n          'points': feature.getGeometry().getPoints()\r\n        }\r\n      };\r\n    }\r\n    return obj;\r\n  }\r\n\r\n  /**\r\n   * 恢复相关标绘\r\n   * @param features\r\n   * @param funWrap 自定义包装函数\r\n   */\r\n  addFeatures (features, funWrap) {\r\n    if (features && Array.isArray(features) && features.length > 0) {\r\n      let layer = getLayerByLayerName(this.map, this.layerName)\r\n      if (!layer) {\r\n        layer = createVectorLayer(this.map, this.layerName, {\r\n          create: true\r\n        })\r\n        layer.setZIndex(this.options['zIndex'] || 99)\r\n      }\r\n      if (layer) {\r\n        let source = layer.getSource()\r\n        if (source && source instanceof VectorSource) {\r\n          const _extents = []\r\n          features.forEach(feature => {\r\n            if (feature && feature['geometry'] && feature['geometry']['type'] !== 'PlotText') {\r\n              if (feature['properties']['type'] && Geometry[feature['properties']['type']]) {\r\n                let feat = new Feature({\r\n                  geometry: (new Geometry[feature['properties']['type']]([], feature['properties']['points'], feature['properties']))\r\n                })\r\n                feat.set('isPlot', true)\r\n                _extents.push(feat.getGeometry().getExtent())\r\n                if (feature['properties']['style']) {\r\n                  /* eslint new-cap: 0 */\r\n                  let style_ = new olStyleFactory(feature['properties']['style'])\r\n                  if (style_) {\r\n                    feat.setStyle(style_)\r\n                  }\r\n                }\r\n                funWrap(feat); //自定义包装\r\n                source.addFeature(feat)\r\n              } else {\r\n                console.warn('不存在的标绘类型！')\r\n              }\r\n            } else if (feature && feature['geometry'] && feature['geometry']['type'] === 'PlotText') {\r\n              _extents.push((new Point(feature.geometry['coordinates'])).getExtent())\r\n              const _plotText = new PlotTextBox({\r\n                id: feature.properties.id,\r\n                position: feature.geometry['coordinates'],\r\n                width: feature.properties['width'],\r\n                height: feature.properties['height'],\r\n                value: feature.properties['value'],\r\n                style: feature.properties.style\r\n              })  \r\n              if (this.map && this.map instanceof Map && _plotText) {            \r\n                funWrap(_plotText); //自定义包装\r\n                this.map.addOverlay(_plotText)\r\n              } else {\r\n                console.warn('未传入地图对象或者plotText创建失败！')\r\n              }\r\n            }\r\n          })\r\n          if (this.options['zoomToExtent'] && _extents && _extents.length > 0) {\r\n            const _extent = this._getExtent(_extents)\r\n            const size = this.map.getSize()\r\n            const _view = this.map.getView()\r\n            _view.fit(_extent, {\r\n              size: size,\r\n              duration: 800,\r\n              maxZoom: (_view.getMaxZoom() || undefined)\r\n            })\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * get extent\r\n   * @private\r\n   */\r\n  _getExtent (extents, params = {}) {\r\n    const bbox = [ Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY,\r\n      Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY]\r\n    let _extent = extents.reduce(function (prev, coord) {\r\n      return [\r\n        Math.min(coord[0], prev[0]),\r\n        Math.min(coord[1], prev[1]),\r\n        Math.max(coord[2], prev[2]),\r\n        Math.max(coord[3], prev[3])\r\n      ]\r\n    }, bbox)\r\n    let size = getSize(_extent)\r\n    let adjust = typeof params['adjust'] === 'number' ? params['adjust'] : 0.2\r\n    let minWidth = typeof params['minWidth'] === 'number' ? params['minWidth'] : 0.05\r\n    let minHeight = typeof params['minHeight'] === 'number' ? params['minHeight'] : 0.05\r\n    if (size[0] <= minWidth || size[1] <= minHeight) {\r\n      let bleft = getBottomLeft(_extent) // 获取xmin,ymin\r\n      let tright = getTopRight(_extent) // 获取xmax,ymax\r\n      let xmin = bleft[0] - adjust\r\n      let ymin = bleft[1] - adjust\r\n      let xmax = tright[0] + adjust\r\n      let ymax = tright[1] + adjust\r\n      _extent = buffer([xmin, ymin, xmax, ymax], adjust)\r\n    }\r\n    return _extent\r\n  }\r\n}\r\nexport default PlotUtils\r\n","import './scss/index.scss'\r\nimport PlotDraw from './core/PlotDraw'\r\nimport PlotEdit from './core/PlotEdit'\r\nimport PlotUtils from './core/PlotUtils'\r\nimport * as PlotTypes from './Utils/PlotTypes'\r\nimport * as Geometry from './Geometry'\r\nclass olPlot {\r\n  constructor (map, options) {\r\n    this.plotDraw = new PlotDraw(map, options)\r\n    this.plotEdit = new PlotEdit(map, options)\r\n    this.plotUtils = new PlotUtils(map, options)\r\n  }\r\n  static PlotTypes = PlotTypes\r\n  static Geometry = Geometry\r\n}\r\n\r\nexport default olPlot\r\n"],"names":["Observable","Events","__cnt","hasOwnKey","Function","call","bind","Object","hasOwnProperty","slice","Array","prototype","on","eventName","callback","context","bindEvent","un","event","key","r","type","that","eachEvent","keyA","itemA","keyB","itemB","once","action","args","item","apply","dispatch","arguments","setTimeout","dispatchSync","clear","isOne","Error","obj","FITTING_COUNT","HALF_PI","Math","PI","ZERO_TOLERANCE","TWO_PI","BASE_LAYERNAME","BASE_HELP_CONTROL_POINT_ID","BASE_HELP_HIDDEN","DEF_TEXT_STYEL","borderRadius","fontSize","outline","overflow","boxSizing","border","fontFamily","color","fontWeight","padding","fontStretch","lineHeight","textAlign","marginLeft","marginRight","width","height","background","fontStyle","fontVariant","MathDistance","pnt1","pnt2","sqrt","pow","wholeDistance","points","distance","isArray","length","forEach","index","getBaseLength","Mid","point1","point2","getCircleCenterOfThreePoints","point3","pntA","pntB","pntC","pntD","getIntersectPoint","f","x","y","e","getAzimuth","startPoint","endPoint","azimuth","angle","asin","abs","getAngleOfThreePoints","isClockWise","pnt3","getCubicValue","t","startPnt","cPnt1","cPnt2","endPnt","max","min","tp","t2","t3","tp2","tp3","getThirdPoint","clockWise","alpha","dx","cos","dy","sin","getArcPoints","center","radius","startAngle","endAngle","pnts","angleDiff","i","push","getBisectorNormals","normal","getNormal","bisectorNormalRight","bisectorNormalLeft","dt","dist","uX","uY","d1","d2","Constants","dX1","dY1","dX2","dY2","getLeftMostControlPoint","controlPoints","controlX","controlY","normalRight","mid","pX","pY","n","nX","nY","a11","a12","a22","dX","dY","getRightMostControlPoint","count","normalLeft","getCurvePoints","leftControl","normals","normalPoints","concat","rightControl","pnt","getBezierPoints","bezierPoints","factor","getBinomialFactor","a","b","getFactorial","result","getQBSplinePoints","bSplinePoints","m","k","getQuadricBSplineFactor","res","getuuid","s","hexDigits","substr","floor","random","join","isObject","value","merge","bindAll","fns","fn","getLayerByLayerName","map","layerName","targetLayer","layers","getLayers","getArray","getLayerInternal","console","log","_target","every","layer","$Group","get","createVectorLayer","params","vectorLayer","$VectorLayer","create","layerType","source","$VectorSource","wrapX","style","$Style","fill","$Fill","stroke","$Stroke","image","$Circle","set","selectable","_vectorLayer","addLayer","global","factory","module","exports","this","Map","keys","values","has","indexOf","delete","_delete","splice","createEvent","name","Event","bubbles","evt","document","initEvent","assign","ta","nodeName","heightOffset","clientWidth","cachedHeight","init","window","getComputedStyle","resize","parseFloat","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","isNaN","update","changeOverflow","offsetWidth","overflowY","getParentOverflows","el","arr","parentNode","Element","scrollTop","node","scrollHeight","overflows","docTop","documentElement","styleHeight","round","computed","actualHeight","offsetHeight","dispatchEvent","err","pageResize","destroy","removeEventListener","overflowX","wordWrap","addEventListener","methods","autosize","options","default","SPECIAL_CHARS_REGEXP","MOZ_HACK_REGEXP","tagName","className","container","id","createElement","appendChild","getElement","getElementById","remove","parent","removeChild","createHidden","element","display","camelCase","replace","_","separator","letter","offset","toUpperCase","handler","off","hasClass","cls","classList","contains","getStyle","styleName","defaultView","setStyle","prop","filter","PlotTextBox","stopEvent","positioning","insertFirst","autoPan","autoPanAnimation","autoPanMargin","setOffset","undefined","setPositioning","mapDragPan","isClick_","dragging_","isFocus_","options_","_position","handleTimer_","currentPixel_","createTextContent","_className","content","minHeight","setAttribute","handleFocus_","handleBlur_","handleClick_","handleDragStart_","handleDragEnd_","setElement","createCloseButton","createResizeButton","setPosition","overlay","uuid","getTextAreaFromContent_","_node","childrens_","children","ele","nodeType","toLowerCase","_closeSpan","closeCurrentPlotText","_resizeSpan","handleResizeMouseDown_","handleResizeMouseMove_","resizeButtonMoveHandler_","pixel_","pixel","element_","_offset","_size","_width","_height","getMap","render","stopImmediatePropagation","getViewport","handleResizeMouseUp_","target","_id","getAttribute","_overlay","getOverlayById","removeOverlay","isMoveModel","clearTimeout","disableMapDragPan","preCursor_","cursor","handleDragDrag_","getCoordinateFromPixel","clientX","clientY","enableMapDragPan","range","getSelection","getRangeAt","collapsed","_element","_style","setValue","getValue","getWidth","getHeight","_map","$DragPan","addInteraction","interactions","getInteractions","removeInteraction","setMap","Overlay","TEXTAREA","ARC","CURVE","GATHERING_PLACE","POLYLINE","FREEHANDLINE","POINT","PENNANT","RECTANGLE","CIRCLE","ELLIPSE","LUNE","SECTOR","CLOSED_CURVE","POLYGON","FREE_POLYGON","ATTACK_ARROW","DOUBLE_ARROW","STRAIGHT_ARROW","FINE_ARROW","ASSAULT_DIRECTION","TAILED_ATTACK_ARROW","SQUAD_COMBAT","TAILED_SQUAD_COMBAT","RECTFLAG","TRIANGLEFLAG","CURVEFLAG","Point","coordinates","point","fixPointCount","setPoints","setCoordinates","getPlotType","generate","isPlot","getPoints","getPointCount","updatePoint","updateLastPoint","finishDrawing","$Point","Pennant","Polyline","freehand","LineString","Arc","PlotUtils","angle1","angle2","Circle","generatePoints","Polygon","Curve","FreeHandLine","RectAngle","isFill","extent","boundingExtent","polygon","fromExtent","getCoordinates","start","end","$Polygon","Ellipse","majorRadius","minorRadius","Lune","d","Sector","pList","ClosedCurve","FreePolygon","AttackArrow","headHeightFactor","headWidthFactor","neckHeightFactor","neckWidthFactor","headTailFactor","tailLeft","tailRight","midTail","bonePnts","headPnts","getArrowHeadPoints","neckLeft","neckRight","tailWidthFactor","bodyPnts","getArrowBodyPoints","leftPnts","rightPnts","reverse","getArrowPoints","midPnt","len","midPnt1","midPnt2","arrowPnts","neckLeftPoint","neckRightPoint","lPoints","rPoints","headHeight","headPnt","tailWidth","headWidth","neckWidth","neckHeight","headEndPnt","neckEndPnt","headLeft","headRight","allLen","widthDif","tempLen","leftBodyPnts","rightBodyPnts","w","left","right","getTempPoint4","linePnt1","linePnt2","symPnt","distance1","distance2","DoubleArrow","connPoint","tempPoint4","leftArrowPnts","rightArrowPnts","llBodyPnts","lArrowPnts","lrBodyPnts","rlBodyPnts","rArrowPnts","rrBodyPnts","StraightArrow","maxArrowLength","arrowLengthScale","leftPnt","rightPnt","FineArrow","headAngle","neckAngle","cont","AssaultDirection","TailedAttackArrow","swallowTailFactor","swallowTailPnt","SquadCombat","tailPnts","getTailPoints","TailedSquadCombat","GatheringPlace","RectFlag","calculatePonits","components","point4","TriangleFlag","CurveFlag","point5","point6","point7","point8","point9","point10","point11","curve1","curve2","PlotDraw","plot","feature","plotType","plotParams","mapViewport","dblClickZoomInteraction","drawInteraction_","drawLayer","setZIndex","createPlot","_params","PlotTypes","Plots","active","disActive","deactiveMapTools","activeInteraction","some","mapFirstClickHandler","warn","$DrawInteraction","$Icon","anchor","anchorXUnits","anchorYUnits","opacity","src","geometryFunction","createBox","textAreaDrawEnd","getGeometry","getExtent","_center","topLeft","getPixelFromCoordinate","bottomRight","_plotText","position","addOverlay","info","removeEventHandlers","activateMapTools","isDrawing","coordinate","Feature","getSource","addFeature","drawEnd","mapNextClickHandler","mapDoubleClickHandler","mapMouseMoveHandler","setProperties","preventDefault","originalEvent","removeFeature","DoubleClickZoom","PlotEdit","activePlot","ghostControlPoints","mouseOver","elementTable","activeControlPointId","previousCursor_","initHelperDom","getMapParentElement","hiddenDiv","htmlUtils","cPnts","getControlPoints","mapElement","getTargetElement","destroyHelperDom","controlPointMouseDownHandler","controlPointMouseMoveHandler2","initControlPoints","controlPointMouseMoveHandler","controlPointMouseUpHandler","activate","deactivate","plotMouseOverOutHandler","geom","forEachFeatureAtPixel","plotMouseDownHandler","plotMouseUpHandler","plotMouseMoveHandler","deltaX","deltaY","newPoints","_geometry","disconnectEventHandlers","DragPan","StyleFactory","option","Style","Geometry","setGeometry","setFill","_getFill","setImage","_getImage","setStroke","_getStroke","setText","_getText","_getRegularShape","regularShape","RegularShape","radius1","radius2","snapToPixel","rotation","rotateWithView","atlasManager","_getIcon","icon","Icon","anchorOrigin","crossOrigin","img","offsetOrigin","scale","size","imgSize","error","Stroke","lineCap","lineJoin","lineDash","lineDashOffset","miterLimit","text","Text","font","offsetX","offsetY","textBaseline","Fill","getBaseStyle","VectorLayer","setIcon","tempStyle","clone","_image","setBackgroundColor","backgroundColor","getFill","getColor","tempColor","asArray","_color","currentColor","handleBackgroundColor","setColor","setOpacity","setBorderColor","borderColor","getStroke","setBorderWidth","borderWidth","setWidth","colorTarget","asString","fixObject","getStroke_","olStyle_","getLineDash","getLineDashOffset","getLineCap","getLineJoin","getMiterLimit","getFill_","getText_","getText","getFont","getOffsetX","getOffsetY","getScale","getRotation","getTextAlign","getTextBaseline","getRotateWithView","getImage_","getImage","getAnchor","getSrc","getSize","getOpacity","getSnapToPixel","getOrigin","getRadius","getRadius2","getAngle","getStyleCode","rgbaArray","fillColor","removeAllFeatures","overlays_","getOverlays","getFeatures","rFeatures","VectorSource","features","jsonFeature","style_","getPosition","getId","getType","addFeatures","funWrap","_extents","feat","geometry","olStyleFactory","properties","_extent","_getExtent","_view","getView","fit","duration","maxZoom","getMaxZoom","extents","bbox","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","reduce","prev","coord","adjust","minWidth","bleft","getBottomLeft","tright","getTopRight","xmin","ymin","xmax","ymax","buffer","olPlot","plotDraw","plotEdit","plotUtils"],"mappings":"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"}